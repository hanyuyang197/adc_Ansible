系统 10
系统信息 10
获取设备信息 10
获取设备许可信息 11
获取整机性能信息 12
获取应用加速统计信息 12
获取应用状态数量统计信息 13
获取设备物理接口分布信息 13
安全标识 15
获取登录安全标识 15
设置登录安全标识 15
系统配置 16
DNS 服务器设置 16
DNS 服务器获取 16
获取域名解析自定义列表 17
添加域名解析自定义 18
删除域名解析自定义 18
查看域名表文件列表 19
上传域名表文件 19
删除域名表文件 19
设置系统主机名 20
主机名 IPV4 地址获取 20
主机名 IPV4 地址设置 20
主机名 IPV6 地址获取 21
主机名 IPV6 地址设置 21
Hosts 列表获取 21
Hosts 增加 22
Hosts 删除 22
获取系统 banner 信息 23
时间配置设置 23
时间配置获取 25
网络管理 SNMP 25
添加 SNMP 团体字 25
获取 SNMP 团体字列表 26
删除 SNMP 团体字 26
设置 SNMP 服务配置 26
获取 SNMP 服务配置 27
添加 SNMP TRAP 27
获取 SNMP TRAP 列表 28
删除 SNMP TRAP 28
设置 SNMP TRAP 配置 29
获取 SNMP TRAP 配置 29
网络管理 SNMPv3 29
SNMPv3 视图 29
SNMPv3 组 32
SNMPv3 用户 35
SNMPv3 TRAP 37
用户管理 41
添加用户 41
获取用户列表 43
获取指定用户 44
编辑指定用户 45
删除指定用户 46
设置用户锁定和密码配置 46
获取用户锁定配置和密码配置 47
解锁锁定用户 47
修改当前用户密码 48
获取管理员状态 48
禁用管理员用户 48
获取双因素认证状态 49
开启双因素认证 49
分区管理 50
获取分区列表 50
获取指定分区 50
添加分区 51
编辑指定分区 52
删除指定分区 52
切换不同分区 52
客户端锁定 53
设置客户端锁定配置 53
获取客户端锁定配置 53
获取锁定客户端列表 54
解锁锁定客户端 54
AAA 认证 55
AAA 全局配置设置 55
AAA 全局配置获取 55
Radius 认证配置设置 56
Radius 认证配置获取 57
TACACS+认证配置设置 58
TACACS+认证配置获取 59
许可管理 60
许可信息获取 60
许可文件上传 60
NTP 配置 61
添加 NTP 配置 61
获取 NTP 配置列表 61
获取指定 NTP 配置 62
编辑 NTP 配置 62
删除指定 NTP 配置 63
WEB 会话 63
设置 WEB 会话超时时间及是否默认显示高级选项 63
获取 WEB 会话超时时间及是否默认显示高级选项 64
设置 WEB 会话限制 64
获取 WEB 会话限制配置 64
WEB 证书管理 65
获取 web 证书列表 65
删除 web 证书 67
应用 web 证书 67
上传 web 私钥文件 67
下载 web 私钥文件 68
上传 web 证书文件 68
下载 web 证书文件 68
WEB 网页加密算法和版本 69
获取 web 网页加密算法和版本 69
设置 web 网页加密算法和版本 70
系统应用端口 71
设置系统应用端口配置 71
获取系统应用端口配置 72
系统操作 72
保存配置 72
系统重启 72
重新加载配置 73
系统关机 73
系统恢复默认配置 73
配置文件管理 74
添加配置文件 74
获取配置文件列表 75
指定配置文件 75
删除配置文件 75
配置文件导出 76
配置文件导入 76
自动备份管理 76
获取自动备份配置 76
设置自动备份配置 77
自动备份恢复 78
自动备份列表 78
自动备份删除 79
诊断信息 79
诊断信息列表 79
诊断信息增加 80
诊断信息删除 80
诊断报告下载 80
系统报告 81
系统报告列表 81
系统报告增加 81
系统报告删除 82
系统报告下载 82
版本镜像管理 83
获取版本镜像列表 83
指定镜像 83
通过 FTP/TFTP 方式上传镜像 83
通过 HTTP/HTTPS 方式上传镜像 84
网络连通性测试 85
Ping 请求 85
Ping 结果 85
数据口抓包 86
添加入接口过滤条件 86
获取入接口列表 86
删除入接口 87
添加出接口过滤条件 87
获取出接口列表 87
删除出接口 88
添加过滤规则 88
获取过滤规则列表 89
删除过滤规则 90
添加抓包文件 90
获取抓包文件列表 90
删除抓包文件 90
导出抓包文件 91
管理口抓包 91
添加管理口过滤规则 91
获取管理口过滤规则列表 92
删除管理口过滤规则表 92
添加管理口抓包文件 93
获取管理口抓包文件列表 93
删除管理口抓包文件 93
导出管理口抓包文件 93
镜像 94
获取镜像配置 94
更改镜像配置 95
编辑镜像配置 98
SMTP 配置 99
获取 SMTP 配置 99
编辑 SMTP 配置 100
日志配置 101
获取业务日志配置 101
编辑业务日志配置 101
获取审计日志配置 101
编辑审计日志配置 102
获取 NAT 日志配置 102
编辑 NAT 日志配置 103
获取 DNS 日志配置 103
编辑 DNS 日志配置 103
日志获取 104
业务日志显示列表 104
审计日志显示列表 105
NAT 日志显示列表 106
DNS 日志显示列表 106
业务日志清除 107
审计日志清除 107
NAT 日志清除 107
DNS 日志清除 107
业务日志下载 108
审计日志下载 108
NAT 日志下载 108
DNS 日志下载 108
诊断日志下载 109
系统日志下载 109
日志发送 109
添加日志发送配置 109
获取日志发送配置列表 110
获取指定日志发送配置 111
编辑日志发送配置 113
删除日志发送配置 114
日志告警 114
获取 Email 日志告警配置 114
编辑 Email 日志告警配置 114
获取短信日志告警配置 115
编辑短信日志告警配置 115
高可用性 116
VRRP 全局配置 116
VRRP 组 117
VRRP 心跳接口 123
VRRP 浮动地址 128
VRRP 强制切换 129
VRRP 网关监控 132
VRRP 路由监控 134
VRRP 服务池监控 136
VRRP 以太网接口监控 138
VRRP 汇聚接口监控 140
VRRP 虚拟接口监控 142
VRRP 配置同步对端 143
VRRP 自动同步 147
VRRP 配置 L3peer 心跳 149
VRRP 配置 MGMT peer 151

系统
系统信息
获取设备信息
Action: system.information.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.information.get
响应参数:
名称 类型 范围 含义
hostname 字符串 主机名,若为空字符串表示获取失败
product_model 字符串 产品型号, “N/A”表示获取失败
build_time 字符串 编译时间, “N/A”表示获取失败
software_version 字符串 软件版本, “N/A”表示获取失败
current_time 字符串 当前时间, “N/A”表示获取失败
save_time 字符串 上一次保存时间, “N/A”表示获取失败
running_time 字符串 本次运行时间, “N/A”表示获取失败
product_fc 整数 0-1 产品平台,0 表示硬件设备,1 表示虚拟设备
serial_number 字符串 设备序列号, “N/A”表示获取失败
api_version 字符串 API 版本号, “N/A”表示获取失败
mc_id 字符串 集中管理 ID，空字符串表示没有连接集中管理, “N/A”表示获取失败
dp_cpu_usage 数组 业务 CPU 使用率, cpu 个数是数组的长度，每一个 cpu 对应一组 cpu 使用率，分别表示 cpu 在 1 秒内，5 秒内和 60 秒内 cpu 平均使用率，取值范围为 1-100，比如值为 35，表示使用率为 35%
mp_cpu_usage 数组 管理 CPU 使用率, cpu 个数是数组的长度，每一个 cpu 对应一组 cpu 使用率，分别表示 cpu 在 1 秒内，5 秒内和 60 秒内 cpu 平均使用率，取值范围为 1-100，比如值为 35，表示使用率为 35%
mem_free 整数 >=0 内容空闲数量,单位 KB
mem_all 整数 >=0 内存总共数量,单位 KB
cpu_temp 整数 1-100 CPU 温度，单位 ℃
power_unit 字符串 电源单元统计，表现为分数，分母为电源总数，分子为正常运行的电源个数
fan_count 字符串 风扇个数统计，表现为分数，分母为风扇总数，分子为正常运行的风扇个数
disk_usage 字符串 >=0 硬盘使用率
响应举例：
{
"hostname" : "adc63",
"product_model" : "ADVIRT",
"build_time" : "10:08:00 CST Tue Jul 2 2019",
"current_time" : "18:09:56 CST Tue Jul 2 2019",
"software_version" : "V3.8R2B105",
"running_time" : "0 day, 7 hours, 23 minutes",
"save_time" : "10:44:57 CST Tue Jul 2 2019",
"product_fc" : 1,
"api_version" : "2.0",
"serial_number" : "8984a8ecce1ed15db1ae",
"mc_id" : "",
"dp_cpu_usage" : [ "2,2,1", "0,1,1" ],
"mp_cpu_usage" : [ "36,41,46" ],
"mem_free" : 1643933,
"mem_all" : 4049096
}
获取设备许可信息
Action: system.license.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.license.get
响应参数:
名称 类型 范围 含义
deadline 字符串 过期时间,格式为 year-mon-day, “0”表示永久
device_id 字符串 设备 ID,用于申请许可时提供
bandwidth 整数 许可带宽,单位 Mb/s, 0 表示不限制带宽
license_exist 整数 0-1 是否有授权许可,
0 表示没有授权 license
1 表示授权 license
remain_days 整数 -1-2147483647 许可剩余天数,单位天，-1 表示永久
响应举例：
{
"deadline": "0",
"device_id": "V6PkPdINbfkoP66......",
"bandwidth": 0,
"license_exist": 1,
"remain_days": -1
}
获取整机性能信息
Action: system.performance.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.performance.get
响应参数:
名称 类型 范围 含义
throughput 整数 >=0 整机吞吐量,单位 bps
curr_conn 整数 >=0 整机并发连接数,
all_conn_ps 整数 >=0 整机每秒新建连接数
l4_conn_ps 整数 >=0 整机每秒四层新建连接数
ssl_conn_ps 整数 >=0 整机每秒 SSL 新建连接数
nat_conn_ps 整数 >=0 整机每秒 NAT 新建连接数
l7_conn_ps 整数 >=0 整机每秒七层新建连接数
l7_trans_ps 整数 >=0 整机每秒七层新建事务数
响应举例：
{
"throughput" : 0,
"curr_conn" : 0,
"all_conn_ps" : 0,
"l4_conn_ps" : 0,
"ssl_conn_ps" : 0,
"nat_conn_ps" : 0,
"l7_conn_ps" : 0,
"l7_trans_ps" : 0
}
获取应用加速统计信息
Action: slb.appaccl.stat.get
请求参数:无
请求举例：
GET
http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=slb.appaccl.stat.get
响应参数：
名称 类型 范围 含义
cache_hit_ratio 整数 0-100 缓存命中率，单位%
compress_ratio 整数 0-100 压缩率，单位%
connmulti_number 整数 >=0 连接复用数
响应举例：
{
"cache_hit_ratio": 0,  
 "compress_ratio": 0,  
 "connmulti_number": 0  
}
获取应用状态数量统计信息
Action: slb.app.stat.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=slb.app.stat.get
响应参数:
名称 类型 范围 含义
node 对象 节点状态数量统计
normal 整数 >=0 节点正常数量
failure 整数 >=0 节点故障数量
disabled 整数 >=0 节点禁用数量
pool 对象 服务池状态数量统计
normal 整数 >=0 服务池正常数量
failure 整数 >=0 服务池故障数量
disabled 整数 >=0 服务池禁用数量

响应举例：
{
"node": {  
 "normal": 0,  
 "failure": 0,  
"disabled": 0  
},
"pool": {  
 "normal": 0,
"failure": 0,
"disabled": 0
}
}

获取设备物理接口分布信息
Action: system.interface.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.interface.get
响应参数:
名称 类型 范围 含义
slot_rows 整数 1-8 设备总槽位行数
slot_cols 整数 1-8 设备总槽位列数
slots 数组 由各槽位信息组成的槽位信息列表
interfaces 数组 由各接口信息组成的接口信息列表
slot_row 整数 1-8 槽位行序号
slot_col 整数 1-8 槽位列序号
port_row 整数 1-8 接口行序号
port_col 整数 1-8 接口列序号
port_rows 整数 1-8 接口总行数
port_cols 整数 1-8 接口总列数
port_num 整数 1-16 槽内接口号
all_port_num 整数 1-64 总排序接口号,仅物理接口有该状态
type 整数 0-2 接口类型,0:管理口,1:物理接口,2:串口
status 整数 0-2 接口状态,0:down,1:up
in_use 整数 0-1 接口使用中,仅管理口有该状态,0:未使用,1:使用中
响应举例：
{
"slot_rows" : 1,
"slot_cols" : 2,
"slots" : [ {
"slot_row" : 1,
"slot_col" : 1,
"port_rows" : 1,
"port_cols" : 6
} ],
"interfaces" : [ {
"port_num" : 0,
"slot_row" : 1,
"slot_col" : 1,
"port_row" : 1,
"port_col" : 2,
"status" : 1,
"all_port_num" : 1,
"type" : 1
}, {
"port_num" : 1,
"slot_row" : 1,
"slot_col" : 1,
"port_row" : 1,
"port_col" : 3,
"status" : 1,
"all_port_num" : 2,
"type" : 1
}, {
"port_num" : 2,
"slot_row" : 1,
"slot_col" : 1,
"port_row" : 1,
"port_col" : 4,
"status" : 1,
"all_port_num" : 3,
"type" : 1
}, {
"port_num" : 3,
"slot_row" : 1,
"slot_col" : 1,
"port_row" : 1,
"port_col" : 5,
"status" : 1,
"all_port_num" : 4,
"type" : 1
}, {
"port_num" : 4,
"slot_row" : 1,
"slot_col" : 1,
"port_row" : 1,
"port_col" : 6,
"status" : 1,
"all_port_num" : 5,
"type" : 1
}, {
"port_num" : 1,
"slot_row" : 1,
"slot_col" : 1,
"port_row" : 1,
"port_col" : 1,
"status" : 1,
"in_use" : 1,
"type" : 0
} ]

安全标识
获取登录安全标识
Action: system.security_banner.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.security_banner.get
响应参数:
名称 类型 范围 含义
login_banner 字符串 0-1019 登录前安全标识，默认值“Welcome To Login ADC System”
login_success_banner 字符串 0-1019 登录后安全标识，默认值“[type ? for help]”

响应举例：
{
"login_banner": "Welcome To Login ADC System",
"login_success_banner": "[type ? for help]"
}
设置登录安全标识
Action: system.security_banner.set
请求参数:
名称 类型 范围 含义
login_banner 字符串 0-1019 登录前安全标识，默认值“Welcome To Login ADC System”
login_success_banner 字符串 0-1019 登录后安全标识，默认值“[type ? for help]”

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.security_banner.set
Body：
{
"login_banner": "Welcome To Login ADC System",
"login_success_banner": "[type ? for help]"
} 1.输入“””双引号须要用“\”转义字符，例：“\””

系统配置
DNS 服务器设置
Action: system.dns.v2.set
请求参数:
名称 类型 范围 含义 必选 备注
domain 字符串 长度 1-63 域名名称 否 未指定时表示不修改
dns_server IPv4 地址或者 ipv6 地址 DNS 服务器 否 第一个服务器为主服务器，剩下其他的为备服务器，最多可以添加 16 个 dns 服务器

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.dns.v2.set
Body:
{
"domain": "abc.com",
"dns_server": "10.2.129.8;2033:abcd:abcd:abcd:abcd:abcd:abcd:abcd;10.0.30.129;10.21.129.8;2013:abcd:abcd:abcd:abcd:abcd:abcd:abcd;101.0.30.129"
}
DNS 服务器获取
Action: system.dns.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.dns.get
响应参数:
名称 类型 范围 含义
dns_suffix 字符串 长度 1-63 域名名称
dns_server IP 地址 IPv4 地址或者 ipv6 地址 DNS 主服务器，第一个为主 dns 服务器，其他为备 dns 服务器
响应举例：
{
 "response":{
       "dns":{
           "dns_suffix":"",
           "dns_server": [
                  "2010:1200::129:8",
                  "2033:abcd:abcd:abcd:abcd:abcd:abcd:abcd",
                  "10.2.129.8",
                  "10.0.30.129"
                     ]
              },
              "status": "true"
       }
}

获取域名解析自定义列表
Action: system.domaintable.list
请求参数:无
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.domaintable.list
响应参数：
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-191 域名名称 是
ttl 整数 0-2592000 Ttl 值 否
primary_dns_server ipv4/ipv6 地址 主 dns 服务器 是
standby_dns_server ipv4/ipv6 地址 备 dns 服务器 否
响应举例：
{
      "total": 1,
      "data": [

{
               "name": "abc.com",
               "ttl": 0,
               "primary_dns_server": "2::1",
               "standby_dns_server": "2::2"
            }
       ]
}
添加域名解析自定义
Action: system.domaintable.add
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-191 域名名称 是
ttl 整数 0-2592000 Ttl 值 否
primary_dns_server ipv4/ipv6 地址 主 dns 服务器 是
standby_dns_server ipv4/ipv6 地址 备 dns 服务器 否
ip_type 整数 0,1 地址类型 是 0：ipv6 类型
1：ipv4 类型

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.domaintable.add
Body:
{
"name": "abc.com",
"ttl": 0,
"primary_dns_server": "2::1",
"standby_dns_server": "2::2",
"ip_type": 0
}

删除域名解析自定义
Action: system.domaintable.del
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-191 域名名称 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.domaintable.del
Body:
{
"name": "abc.com"

}
查看域名表文件列表
Action: system.domaintable.file.list
请求参数:无
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.domaintable.file.list
响应参数：
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-191 域名表文件名称 是
响应举例:
{
  "data": [
       {
          "name": "filename"
       }
       ]
}
上传域名表文件
Action: system.domaintable.file.upload&name=filename
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-191 域名表文件名称 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.domaintable.file.upload&name=filename 1.该 API 需要以 form-data 的方式上传之前导出的配置文件.txt 文件
该文件的正确格式为：域名名称，ttl 值，主 dns 服务器，备 dns 服务器

删除域名表文件
Action: system.domaintable.file.del
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-191 域名表文件名称 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.domaintable.file.del
Body:
{
  "data": [
       {
          "name": "filename"
       }
       ]
}

设置系统主机名
Action: system.hostname.set
请求参数:
名称 类型 范围 含义 必选 备注
hostname 字符串 长度 1-63 主机名 是 支持字符 a-zA-Z0-9-

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.hostname.set
Body:
{
"hostname" : "Horizon-ADC"
}

主机名 IPV4 地址获取
Action: system.host.ipv4.get

请求参数:无
请求举例：
GET
http://192.168.70.73/adcapi/v2/?authkey=e4f2ee52d8a18dc64e255278c47669&action=system.host.ipv4.get
响应举例
{
"host_ipv4_address": "192.168.70.73"
}

主机名 IPV4 地址设置
Action: system.host.ipv4.set

请求参数:
名称 类型 范围 含义 必选 备注
host_ipv4_address 字符串 主机名指定解析地址 是 IPV4 地址

请求举例：
POST
http://192.168.70.73/adcapi/v2/?authkey=e4f2ee52d8a18dc64e255278c47669&action=system.host.ipv4.set
Body:
{
"host_ipv4_address": "192.168.70.73"
}
主机名 IPV6 地址获取
Action: system.host.ipv6.get

请求参数:无
请求举例：
GET
http://192.168.70.73/adcapi/v2/?authkey=e4f2ee52d8a18dc64e255278c47669&action=system.host.ipv6.get
响应举例
{
"host_ipv6_address": "2000::2000"
}
主机名 IPV6 地址设置
Action: system.host.ipv6.set

请求参数:
名称 类型 范围 含义 必选 备注
host_ipv6_address 字符串 主机名指定解析地址 是 IPV6 地址

请求举例：
POST
http://192.168.70.73/adcapi/v2/?authkey=e4f2ee52d8a18dc64e255278c47669&action=system.host.ipv6.set
Body:
{
"host_ipv6_address": "2000::2000"
}
Hosts 列表获取
Action: system.hosts.list

请求参数:无
请求举例：
GET
http://192.168.70.73/adcapi/v2/?authkey=e4f2ee52d8a18dc64e255278c47669&action=system.hosts.list
响应参数：
名称 类型 范围 含义 必选 备注
Hostname 字符串 1-63 静态主机名 否
host_ip_address IP 地址 IP 地址
响应举例
[
{
"hostname": "abc.com",
"host_ip_address": "2000:2000:2000:2000:2000:2000:2000:119"
},
{
"hostname": "123.com",
"host_ip_address": "192.168.0.118"
},
{
"hostname": "computer.com",
"host_ip_address": "2000:2000:2000:2000:2000:2000:2000:1"
}
]
Hosts 增加
Action: system.hosts.add

请求参数:
名称 类型 范围 含义 必选 备注
hostname 字符串 1-63 指定 hosts 域名 是
host_ip_address IP 地址 Ipv4/ipv6 地址 是

请求举例：
POST
http://192.168.70.73/adcapi/v2/?authkey=e4f2ee52d8a18dc64e255278c47669&action=system.hosts.add
Body:
{
"hostname": "node.com",
"host_ip_address": "100.100.100.100"
}
Hosts 删除
Action: system.hosts.del

请求参数:
名称 类型 范围 含义 必选 备注
hostname 字符串 1-63 指定 hosts 域名 是
host_ip_address IP 地址 Ipv4/ipv6 地址 是

请求举例：
POST
http://192.168.70.73/adcapi/v2/?authkey=e4f2ee52d8a18dc64e255278c47669&action=system.hosts.del
Body:
{
"hostname": "node.com",
"host_ip_address": "100.100.100.100"
}

获取系统 banner 信息
Action: system.banner.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.banner.get
响应参数:
名称 类型 范围 含义
hostname 字符串 长度 1-63 系统主机名
username 字符串 当前会话用户名
clientip IPv4 地址 当前会话客户端 IPv4 地址
mgmtip IPv4 地址 当前会话系统管理 IPv4 地址
ha 字符串 主备状态, standby 表示备机，active 表示主机,n/a 表示没有开启 VRRP
confdirty 整数 0，1 是否存在未保存的配置,0:不存在,1:存在
响应举例：
{
"hostname":"Horizon",
"username":"admin",
"clientip":"192.168.50.107",
"mgmtip":"192.168.70.73",
"ha":"n/a",
"confdirty":1
}
时间配置设置
Action: system.time.set
请求参数:
名称 类型 范围 含义 必选 备注
date 字符串 日期,格式 月/日/年 否 未指定时表示不修改
time 字符串 时间,格式 HH:MM:SS 否 未指定时表示不修改
tzone 字符串 时区,支持如下时区：
"(GMT-11:00)Midway Island, Samoa"
"(GMT-10:00)Hawaii"
"(GMT-09:00)Alaska"
"(GMT-08:00)Pacific Time - Tijuana"
"(GMT-08:00)Pacific Time(US & Canada)"
"(GMT-08:00)Pacific Time - west British Columbia"
"(GMT-07:00)Arizona"
"(GMT-07:00)Mountain Time(US & Canada)"
"(GMT-06:00)Central Time(US & Canada)"
"(GMT-06:00)Mexico City"
"(GMT-06:00)Saskatchewan"
"(GMT-06:00)Central America"
"(GMT-05:00)Eastern Time(US & Canada)"
"(GMT-05:00)Indiana(East)"
"(GMT-05:00)Eastern Time - Ontario & Quebec - most locations"
"(GMT-05:00)Eastern Time"
"(GMT-05:00)Eastern Time - Toronto, Ontario"
"(GMT-04:00)Caracas, La Paz"
"(GMT-04:00)Atlantic Time(Canada)"
"(GMT-04:00)Santiago"
"(GMT-03:30)Newfoundland"
"(GMT-03:00)Buenos Aires, Georgetown"
"(GMT-03:00)Greenland"
"(GMT-02:00)Mid-Atlantic"
"(GMT-01:00)Azores"
"(GMT-01:00)Cape Verde Is."
"(GMT)Greenwich Mean Time: Dublin, Edinburgh, Lisbon, London"
"(GMT+01:00)West Central Africa"
"(GMT+01:00)Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna"
"(GMT+01:00)Belgrade, Bratislava, Budapest, Ljubljana, Prague"
"(GMT+01:00)Brussels, Copenhagen, Madrid, Paris"
"(GMT+01:00)Sarajevo, Skopje, Sofija, Vilnius, Warsaw, Zagreb"
"(GMT+02:00)Bucharest"
"(GMT+02:00)Cairo"
"(GMT+02:00)Athens, Istanbul, Minsk"
"(GMT+02:00)Harare, Pretoria"
"(GMT+02:00)Jerusalem"
"(GMT+02:00)Helsinki, Riga, Tallinn"
"(GMT+03:00)Nairobi"
"(GMT+03:00)Baghdad"
"(GMT+03:00)Kuwait, Riyadh"
"(GMT+03:00)Moscow, St.Petersburg, Volgogard"
"(GMT+03:30)Tehran"
"(GMT+04:00)Baku, Tbilisi, Yerevan"
"(GMT+04:00)Abu Dhabi, Muscat"
"(GMT+04:30)Kabul"
"(GMT+05:00)Islamabad, Karachi, Tashkent"
"(GMT+05:00)Ekaterinburg"
"(GMT+05:30)Calcutta, Chennai, Mumbai, New Delhi"
"(GMT+05:45)Kathmandu"
"(GMT+06:00)Almaty, Novosibirsk"
"(GMT+06:00)Astana, Dhaka"
"(GMT+06:00)Sri Jayawardenepura"
"(GMT+06:30)Rangoon","MMT"},
"(GMT+07:00)Bangkok, Hanoi, Jakarta"
"(GMT+07:00)Krasnoyarsk"
"(GMT+08:00)Irkutsk, Ulaan Bataar"
"(GMT+08:00)Kuala Lumpur, Singapore"
"(GMT+08:00)Beijing, Chongqing, Hong Kong, Urumqi"
"(GMT+08:00)Taipei"
"(GMT+08:00)Perth"
"(GMT+09:00)Seoul"
"(GMT+09:00)Osaka, Sapporo, Tokyo"
"(GMT+09:00)Yakutsk"
"(GMT+09:30)Adelaide"
"(GMT+09:30)Darwin"
"(GMT+10:00)Hobart"
"(GMT+10:00)Brisbane"
"(GMT+10:00)Vladivostok"
"(GMT+10:00)Canberra, Melbourne, Sydney"
"(GMT+10:00)Guam, Port Moresby"
"(GMT+11:00)Magadan, Solomon., New Caledonia"
"(GMT+12:00)Auckland, Wellington"
"(GMT+12:00)Fiji, Kamchatka, Marshall Is."
"(GMT+12:00)Eniwetok, Kwajalein"
"(GMT+13:00)Nuku'alofa" 否 未指定时表示不修改

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.time.set
Body:
{
"date" : "07/20/2019",
"time" : "13:28:35",
"tzone" : "(GMT+08:00)Beijing, Chongqing, Hong Kong, Urumqi"
}
时间配置获取
Action: system.time.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.time.get
响应参数:
名称 类型 范围 含义
date 字符串 日期
time 字符串 时间
tzone 字符串 时区
响应举例：
{
"date" : "07/20/2019",
"time" : "13:28:35",
"tzone" : "(GMT+08:00)Beijing, Chongqing, Hong Kong, Urumqi"
}

网络管理 SNMP
添加 SNMP 团体字
Action: snmp.comm.item.add
请求参数:
名称 类型 范围 含义 必选 备注
community 字符串 长度 1-31 团体字 是
host 字符串 长度 1-63 允许使用该团体字的远端主机,格式为 IPv4/v6 地址或主机名 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.comm.item.add
请求 body：
{
"community":"public",
"host":"192.168.1.100"
}
获取 SNMP 团体字列表
Action: snmp.comm.item.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.comm.item.list
响应参数:
名称 类型 范围 含义
community 字符串 长度 1-31 团体字
host 字符串 长度 1-63 允许使用该团体字的远端主机,格式为 IPv4/v6 地址或主机名
响应举例：
[{
"community":"public",
"host":"192.168.1.100"
}]
删除 SNMP 团体字
Action: snmp.comm.item.del
请求参数:
名称 类型 范围 含义 必选 备注
community 字符串 长度 1-31 团体字 是
host 字符串 长度 1-63 允许使用该团体字的远端主机,格式为 IPv4/v6 地址或主机名 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.comm.item.del
请求 body：
{
"community":"public",
"host":"192.168.1.100"
}
设置 SNMP 服务配置
Action: snmp.server.set
请求参数:
名称 类型 范围 含义 必选 备注
status 整数 0，1 是否开启 SNMP 服务 否 0 不开启,1 开启，缺省值:不修改
port 整数 1-65535 SNMP 服务端口 否 缺省值:不修改
contact 字符串 长度 0-63 联系方式 否 缺省值:不修改
location 字符串 长度 0-63 位置信息 否 缺省值:不修改
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.set
请求 body：
{
"status":1,
"port":161,
"contact":"",
"location":""
}
获取 SNMP 服务配置
Action: snmp.server.get
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.get
响应参数:
名称 类型 范围 含义
status 整数 0，1 SNMP 服务是否开启 , 0 未开启,1 开启
port 整数 1-65535 SNMP 服务端口
contact 字符串 长度 0-127 联系方式
location 字符串 长度 0-127 位置信息
sys_name 字符串 长度 1-63 主机名
响应举例：
{
"status":1,
"port":161,
"contact":"",
"sys_name":"Horizon",
"location":""
}
添加 SNMP TRAP
Action: snmp.trap.item.add
请求参数:
名称 类型 范围 含义 必选 备注
community 字符串 长度 1-31 发送 TRAP 使用的团体字 是
host 字符串 长度 1-63 发送 TRAP 的目标主机,格式为 IPv4/v6 地址或主机名 是
port 整数 1-65535 发送 TRAP 的目标端口 否 缺省值:162
version 字符串 长度 1-3 发送 TRAP 消息的版本,支持 v1 和 v2c 否 缺省值:v1
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.trap.item.add
请求 body：
{
"community":"public",
"host":"192.168.1.100",
"port":162,
"version":"v2c"
}
获取 SNMP TRAP 列表
Action: snmp.trap.item.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.trap.item.list
响应参数:
名称 类型 范围 含义
community 字符串 长度 1-31 发送 TRAP 使用的团体字
host 字符串 长度 1-63 发送 TRAP 的目标主机,格式为 IPv4/v6 地址或主机名
port 整数 1-65535 发送 TRAP 的目标端口
version 字符串 长度 1-3 发送 TRAP 消息的版本,支持 v1 和 v2c
响应举例：
[{
"community":"public",
"host":"192.168.1.100",
"port":162,
"version":"v2c"
}]
删除 SNMP TRAP
Action: snmp.trap.item.del
请求参数:
名称 类型 范围 含义 必选 备注
community 字符串 长度 1-31 发送 TRAP 使用的团体字 是
host 字符串 长度 1-63 允许使用该 TRAP 的远端主机,格式为 IPv4/v6 地址或主机名 是
version 字符串 长度 1-3 发送 TRAP 消息的版本,支持 v1 和 v2c 否 缺省值:v1
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.trap.item.del
请求 body：
{
"community":"public",
"host":"192.168.1.100",
"version":"v2c"
}
设置 SNMP TRAP 配置
Action: snmp.trap.set
请求参数:
名称 类型 范围 含义 必选 备注
status 整数 0，1 是否开启 SNMP TRAP 服务 否 0 不开启,1 开启，缺省值:不修改
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.trap.set
请求 body：
{"status":1}
获取 SNMP TRAP 配置
Action: snmp.trap.get
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.trap.get
响应参数:
名称 类型 范围 含义
status 整数 0，1 SNMP TRAP 服务是否开启 , 0 未开启,1 开启
响应举例：
{"status":1}

网络管理 SNMPv3
SNMPv3 视图
添加 SNMPv3 视图
Action: snmp.server.v3.view.add
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 视图名称 是
oid 字符串 长度 1-31 参与视图策略的视图 OID 或者 Familly 名称 是
mask 字符串 长度 1-127 OID 的掩码，以“.”分隔的十六进制值，例如“ff.a0” 否
type 字符串 INCLUDED，EXCLUDED 选择对 OID 的访问策略，INCLUDEDED 表示可以访问该 OID，EXCLUDED 表示拒绝访问该 OID 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.view.add
请求 body：
{
"name": "2",
"oid": "1.3.1",
"mask": "ff.af",
"type": "INCLUDED"
}
获取 SNMPv3 视图列表
Action: snmp.server.v3.view.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.view.list
响应参数:
名称 类型 范围 含义
total 整数 0-50 视图总个数
name 字符串 长度 1-31 视图名称
oid 字符串 长度 1-31 参与视图策略的视图 OID 或者 Familly 名称
mask 字符串 长度 1-127 OID 的掩码，以“.”分隔的十六进制值，例如“ff.a0”
type 字符串 INCLUDED，EXCLUDED 选择对 OID 的访问策略，INCLUDEDED 表示可以访问该 OID，EXCLUDED 表示拒绝访问该 OID
响应举例：
{
    "total": 3,
    "data": [
        {
            "name": "1",
            "oid": "1.3.1",
            "mask": "ff.af",
            "type": "INCLUDED"
        },
        {
            "name": "2",
            "oid": "1.3.1",
            "mask": "ff.af",
            "type": "INCLUDED"
        },
        {
            "name": "2",
            "oid": "1.3.6",
            "mask": "ff.af",
            "type": "INCLUDED"
        }
    ]
}

获取 SNMPv3 视图
Action: snmp.server.v3.view.get
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 视图名称 是
oid 字符串 长度 1-31 参与视图策略的视图 OID 或者 Familly 名称 是

请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.view.get
请求 body：
{
"name": "2",
"oid": "1.3.1"
}

响应参数:
名称 类型 范围 含义
name 字符串 长度 1-31 视图名称
oid 字符串 长度 1-31 参与视图策略的视图 OID 或者 Familly 名称
mask 字符串 长度 1-127 OID 的掩码，以“.”分隔的十六进制值，例如“ff.a0”
type 字符串 INCLUDED，EXCLUDED 选择对 OID 的访问策略，INCLUDEDED 表示可以访问该 OID，EXCLUDED 表示拒绝访问该 OID
响应举例：
{
    "name": "2",
    "oid": "1.3.1",
    "mask": "ff.af",
    "type": "INCLUDED"
}
删除 SNMPv3 视图
Action: snmp.server.v3.view.del
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 视图名称 是
oid 字符串 长度 1-31 参与视图策略的视图 OID 或者 Familly 名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.view.del
请求 body：
{
"name": "2",
"oid": "1.3.1"
}
编辑 SNMPv3 视图
Action: snmp.server.v3.view.edit
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 视图名称 是
oid 字符串 长度 1-31 修改后的视图 OID 或者 Familly 名称 是
old_oid 字符串 长度 1-31 待修改的视图 OID 或者 Familly 名称 是
mask 字符串 长度 1-127 OID 的掩码，以“.”分隔的十六进制值，例如“ff.a0” 否
type 字符串 INCLUDED，EXCLUDED 选择对 OID 的访问策略，INCLUDEDED 表示可以访问该 OID，EXCLUDED 表示拒绝访问该 OID 否
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.view.edit
请求 body：
{
"name": "2",
"old_oid": "1.3.1",
"oid": "1.3.2",
"mask": "ff.a0",
"type": "EXCLUDED"
}
SNMPv3 组
添加 SNMPv3 组
Action: snmp.server.v3.group.add
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 组名称 是
view 字符串 长度 1-31 参与视图策略的视图 OID 或者 Familly 名称 是
auth_mode 字符串 AUTH,NONE,PRIV 选择对组访问的认证策略。AUTH 表示需要认证才能访问；NONE 表示可以任意方式访问，PRIV 表示需要认证和加密 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.group.add
请求 body：
{
"name": "1",
"view": "1",
"auth_mode": "AUTH"
}
获取 SNMPv3 组列表
Action: snmp.server.v3.group.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.group.list
响应参数:
名称 类型 范围 含义
total 整数 0-50 Group 总个数
name 字符串 长度 1-31 组名称
view 字符串 长度 1-31 参与视图策略的视图 OID 或者 Familly 名称
auth_mode 字符串 AUTH,NONE,PRIV 选择对组访问的认证策略。AUTH 表示需要认证才能访问；NONE 表示可以任意方式访问，PRIV 表示需要认证和加密
响应举例：
{
    "total": 1,
    "data": [
        {
            "name": "1",
            "view": "1",
            "auth_mode": "AUTH"
        }
    ]
}
获取 SNMPv3 组
Action: snmp.server.v3.group.get
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 组名称 是
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.group.get
请求 body：
{
"name": "1"
}

响应参数:
名称 类型 范围 含义
name 字符串 长度 1-31 组名称
view 字符串 长度 1-31 参与视图策略的视图 OID 或者 Familly 名称
auth_mode 字符串 AUTH,NONE,PRIV 选择对组访问的认证策略。AUTH 表示需要认证才能访问；NONE 表示可以任意方式访问，PRIV 表示需要认证和加密
响应举例：
{
    "name": "1",
    "view": "1",
    "auth_mode": "AUTH"
}
删除 SNMPv3 组
Action: snmp.server.v3.group.del
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 组名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.group.del
请求 body：
{
"name": "2"
}
编辑 SNMPv3 组
Action: snmp.server.v3.group.edit
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 组名称 是
view 字符串 长度 1-31 参与视图策略的视图 OID 或者 Familly 名称 是
auth_mode 字符串 AUTH,NONE,PRIV 选择对组访问的认证策略。AUTH 表示需要认证才能访问；NONE 表示可以任意方式访问，PRIV 表示需要认证和加密 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.group.edit
请求 body：
{
"name":"1",
"view":"2",
"auth_mode":"priv"
}
SNMPv3 用户
添加 SNMPv3 用户
Action: snmp.server.v3.user.add
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 用户名称 是
group 字符串 长度 1-31 关联的组名称 是
auth_mode 字符串 NONE,MD5,SHA 认证方式，默认为 NONE 表示不认证 否
auth_password 字符串 长度 8-31 认证密码，最小长度为 8 否
encrypt_mode 字符串 NONE,DES,AES 选择加密方式，默认为 NONE 表示不加密 否
encrypt_password 字符串 长度 8-31 加密密码，最小长度为 8 否
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.user.add
Body：
{
"name": "1",
"group": "1",
"auth_mode": "MD5",
"auth_password": "12345678",
"encrypt_mode": "NONE",
"encrypt_password": ""
}
获取 SNMPv3 用户列表
Action: snmp.server.v3.user.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.user.list
响应参数:
名称 类型 范围 含义
total 整数 0-50 用户总个数
name 字符串 长度 1-31 用户名称
group 字符串 长度 1-31 关联的组名称
auth_mode 字符串 NONE,MD5,SHA 认证方式，默认为 NONE 表示不认证
auth_password 字符串 认证密码（已加密显示）
encrypt_mode 字符串 NONE,DES,AES 选择加密方式，默认为 NONE 表示不加密
encrypt_password 字符串 加密密码（已加密显示）
响应举例：
{
    "total": 1,
    "data": [
        {
            "name": "1",
            "group": "1",
            "auth_mode": "MD5",
            "auth_password": "fxOvG8L7gtpU7IbckCcYtTwQjLjV2wDnPBCMuNXbAOc8EIy41dsA5zwQjLjV2wDn",
            "encrypt_mode": "NONE",
            "encrypt_password": ""
        }
    ]
}
获取 SNMPv3 用户
Action: snmp.server.v3.user.get
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 用户名称 是
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.user.get
请求 body：
{
"name": "1"
}

响应参数:
名称 类型 范围 含义
name 字符串 长度 1-31 用户名称
group 字符串 长度 1-31 关联的组名称
auth*mode 字符串 NONE,MD5,SHA 认证方式，默认为 NONE 表示不认证
auth_password 字符串 认证密码（已加密显示）
encrypt_mode 字符串 NONE,DES,AES 选择加密方式，默认为 NONE 表示不加密
encrypt_password 字符串 加密密码（已加密显示）
响应举例：
{
    "name": "1",
    "group": "1",
    "auth_mode": "MD5",
    "auth_password": "fxOvG8L7gtpU7IbckCcYtTwQjLjV2wDnPBCMuNXbAOc8EIy41dsA5zwQjLjV2wDn"
    "encrypt_mode": "NONE",
    "encrypt_password": ""
}
删除 SNMPv3 用户
Action: snmp.server.v3.user.del
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 用户名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.user.del
请求 body：
{
"name": "2"
}
编辑 SNMPv3 用户
Action: snmp.server.v3.user.edit
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 用户名称 是
group 字符串 长度 1-31 关联的组名称 是
auth_mode 字符串 NONE,MD5,SHA 认证方式，默认为 NONE 表示不认证 否
auth_password 字符串 长度 8-31 认证密码，最小长度为 8 否
encrypt_mode 字符串 NONE,DES,AES 选择加密方式，默认为 NONE 表示不加密 否
encrypt_password 字符串 长度 8-31 加密密码，最小长度为 8 否
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.user.edit
请求 body：
{
"name": "1",
"group": "1",
"auth_mode": "SHA",
"auth_password": "12345678",
"encrypt_mode": "NONE",
"encrypt_password": ""
}
SNMPv3 TRAP
添加 SNMPv3 TRAP
Action: snmp.server.v3.trap.add
请求参数:
名称 类型 范围 含义 必选 备注
host 字符串 长度 1-31 发送 TRAP 的目标主机,格式为 IPv4/v6 地址或主机名 是
port 整数 1-65535 发送 TRAP 的目标端口 否 缺省值:162
version 字符串 长度 1-3 发送 TRAP 消息的版本,支持 v1 和 v2c 和 v3 否 缺省值:v1
name 字符串 长度 1-31 TRAP 服务的名称 是
auth_mode 字符串 NONE,MD5,SHA 认证方式，默认为 NONE 表示不认证 否
auth_password 字符串 长度 8-31 认证密码，最小长度为 8 否
encrypt_mode 字符串 NONE,DES,AES 选择加密方式，默认为 NONE 表示不加密 否
encrypt_password 字符串 长度 8-31 加密密码，最小长度为 8 否
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.trap.add
请求 body：
{
"host": "10.0.30.111",
"port": "162",
"version": "v3",
"name": "`1",
    "auth_mode": "MD5",
    "auth_password": "12345678",
    "encrypt_mode": "DES",
    "encrypt_password": "12345678"
}
获取SNMPv3 TRAP列表
Action:  snmp.server.v3.trap.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.trap.list
响应参数:
名称	类型	范围	含义
host	字符串	长度1-31	发送TRAP的目标主机,格式为IPv4/v6地址或主机名（配置为主机名时最大长度为31个字符）
port	整数	1-65535	发送TRAP的目标端口
version	字符串	长度1-3	发送TRAP消息的版本,支持v1和v2c和v3
name	字符串	长度1-31	TRAP服务的名称
auth_mode	字符串	NONE,MD5,SHA	认证方式，默认为NONE表示不认证
auth_password	字符串	长度8-31	认证密码，最小长度为8
encrypt_mode	字符串	NONE,DES,AES	选择加密方式，默认为NONE表示不加密
encrypt_password	字符串	长度8-31	加密密码，最小长度为8
响应举例： 
[
    {
        "host": "10.0.30.110",
        "port": "162",
        "version": "v3",
        "name": "`~!@$%^\*()*+-={}[]|:;,.|",
        "auth*mode": "MD5",
        "auth_password": "fxOvG8L7gtpU7IbckCcYtTwQjLjV2wDnPBCMuNXbAOc8EIy41dsA5zwQjLjV2wDn",
        "encrypt_mode": "DES",
        "encrypt_password": "fxOvG8L7gtpU7IbckCcYtTwQjLjV2wDnPBCMuNXbAOc8EIy41dsA5zwQjLjV2wDn"
    },
    {
        "host": "10.0.30.111",
        "port": "162",
        "version": "v3",
        "name": "`1",
        "auth_mode": "MD5",
        "auth_password": "fxOvG8L7gtpU7IbckCcYtTwQjLjV2wDnPBCMuNXbAOc8EIy41dsA5zwQjLjV2wDn",
        "encrypt_mode": "DES",
        "encrypt_password": "fxOvG8L7gtpU7IbckCcYtTwQjLjV2wDnPBCMuNXbAOc8EIy41dsA5zwQjLjV2wDn"
    }
]
删除SNMPv3 TRAP
Action:  snmp.server.v3.trap.del
请求参数:
名称	类型	范围	含义	必选	备注
host	字符串	长度1-31	允许使用该TRAP的远端主机,格式为IPv4/v6地址或主机名	是	
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.trap.del
请求body：
{
"host":"192.168.1.100"
}
获取SNMPv3 TRAP
Action:  snmp.server.v3.trap.get
请求参数:
名称	类型	范围	含义
host	字符串	长度1-31	允许使用该TRAP的远端主机,格式为IPv4/v6地址或主机名
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.trap.get
请求body：
{
    "host": "10.0.30.111"
}
响应参数:
名称	类型	范围	含义
host	字符串	长度1-31	发送TRAP的目标主机,格式为IPv4/v6地址或主机名（配置为主机名时最大长度为31个字符）
port	整数	1-65535	发送TRAP的目标端口
version	字符串	长度1-3	发送TRAP消息的版本,支持v1和v2c
name	字符串	长度1-31	TRAP服务的名称
auth_mode	字符串	NONE,MD5,SHA	认证方式，默认为NONE表示不认证
auth_password	字符串	长度8-31	认证密码，加密显示
encrypt_mode	字符串	NONE,DES,AES	选择加密方式，默认为NONE表示不加密
encrypt_password	字符串	长度8-31	加密密码，加密显示
响应举例： 
[
    {
        "host": "10.0.30.111",
        "port": "162",
        "version": "v3",
        "name": "`1",
        "auth_mode": "MD5",
        "auth_password": "fxOvG8L7gtpU7IbckCcYtTwQjLjV2wDnPBCMuNXbAOc8EIy41dsA5zwQjLjV2wDn",
        "encrypt_mode": "DES",
        "encrypt_password": "fxOvG8L7gtpU7IbckCcYtTwQjLjV2wDnPBCMuNXbAOc8EIy41dsA5zwQjLjV2wDn"
    }
]
编辑 SNMPv3 TRAP
Action: snmp.server.v3.trap.edit
请求参数:
名称 类型 范围 含义 必选 备注
host 字符串 长度 1-31 发送 TRAP 的目标主机,格式为 IPv4/v6 地址或主机名（配置为主机名时最大长度为 31 个字符） 是
port 整数 1-65535 发送 TRAP 的目标端口 否 缺省值:162
version 字符串 长度 1-3 发送 TRAP 消息的版本,支持 v1 和 v2c 和 v3 否 缺省值:v1
name 字符串 长度 1-31 TRAP 服务的名称 是
auth_mode 字符串 NONE,MD5,SHA 认证方式，默认为 NONE 表示不认证 否
auth_password 字符串 长度 8-31 认证密码，最小长度为 8 否
encrypt_mode 字符串 NONE,DES,AES 选择加密方式，默认为 NONE 表示不加密 否
encrypt_password 字符串 长度 8-31 加密密码，最小长度为 8 否
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=snmp.server.v3.trap.edit
请求 body：
{
"host": "10.0.30.111",
"port": "1162",
"version": "v3",
"name": "1",
"auth_mode": "MD5",
"auth_password": "12345678",
"encrypt_mode": "DES",
"encrypt_password": "12345678"
}
用户管理
添加用户
Action: admin.user.add
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 用户名 是
password 字符串 长度 1-63 密码 是 若开启密码复杂度,需要符合密码复杂度，密码复杂度 1 到 4 级，表示密码最少需要几种不同类型的字符。若密码复杂度为 4，表示密码中必须包含数字、大写字母、小写字母、特殊字符（!@.-*等）四种字符
privilege 整数 1,2 用户权限 否 1:只读权限,2:读写权限，缺省值：1
trust_host IPv4 地址 信任地址 否 缺省值：0.0.0.0
trust_acl 整数 1-199 信任 acl ID 号 否 缺省值：0
trust_ipv6_acl 字符串 长度 1-191 信任 ipv6-acl 名称 否 缺省为空
trust_mask 掩码 信任掩码 否 缺省值：0.0.0.0
role 字符串 用户角色 否 缺省为空，配置用户的角色，使用该用户登录时只能看到配置的角色的页面，其它页面无法查看，角色如下：
Overview:概况页面角色
Report:报表中心页面角色
SLB:服务器负载均衡页面角色
GSLB:全局负载均衡页面角色
LLB:链路负载均衡页面角色
Network:网络页面角色
System:系统页面角色
Operator:配置节点禁用启动软关机角色
1.web 登录：可以操作节点/节点端口/服务池成员禁用启动软关机暖启动配置
2.api 登录：可以操作节点/节点端口/服务池成员的禁用启用
具体 api：
slb.node.onoff
slb.node.port.onoff
slb.pool.member.onoff
使用方法在 API 手册\_SLB 手册中查看
partition 字符串 1-32 分区 是 默认为 common 分区
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=admin.user.add
举例 1:添加只读用户 readuser1 请求 body：
{
"name":"readuser1",
"password":"pWd@user1"
}
举例 2:添加读写用户 admin2，但是只能在主机 192.168.70.100 使用
请求 body：
{
"name":"admin2",
"password":"pWd@admin2",
"privilege":2,
"trust_host":"192.168.70.100",
"trust_mask":"255.255.255.255"
}
举例 3:添加读写用户 admin3，但是只能在 ipv4/v6 acl 地址过滤使用
请求 body：
{
"name": "admin3",
"password":"pWd@admin2",
"privilege":2,
"trust_host": "0.0.0.0",
"trust_mask": "0.0.0.0",
"trust_acl": 2,
"trust_ipv6_acl": "123"
}
举例 4：添加读写分区用户 admin4
{
"name": "admin4",
"locked": 0,
"password":"123.com",
"trust_host": "0.0.0.0",
"trust_mask": "0.0.0.0",
"privilege": 2,
"partition": "partition_253"
}
举例 5：添加用户 admin5 为 common 分区角色用户
{
"name": "admin5",
"locked": 0,
"trust_host": "0.0.0.0",
"trust_mask": "0.0.0.0",
"password":"123.com",
"privilege": 2,
"role": "SLB ",
"partition": "common"
} 1.默认存在用户 admin,不能添加
2.Password 需要符合设置的密码复杂度和最小长度 3.用户权限为只读时,只能获取配置和状态,不能修改 4.只有用户信任地址/掩码范围内的主机可以使用该用户登陆 5.用户配置角色，用户只能登录页面，无法登录命令行和 API ，Operator 角色特殊，能登录页面和 API 无法登录命令行

获取用户列表
Action: admin.user.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=admin.user.list
响应参数:
名称 类型 范围 含义
name 字符串 长度 1-31 用户名
privilege 整数 1,2 用户权限，1:只读权限,2:读写权限
trust_host IPv4 地址 信任地址
trust_mask 掩码 信任掩码
trust_acl 整数 1-199 信任 acl ID 号
trust_ipv6_acl 字符串 长度 1-191 信任 ipv6-acl 名称
locked 整数 0-1 用户是否被锁定,1 已经锁定,0，未锁定
role 字符串 用户角色
partition 字符串 1-32 分区
响应举例：
[
{
"name": "admin",
"locked": 0,
"trust_host": "0.0.0.0",
"trust_mask": "0.0.0.0",
"trust_acl": 0,
"trust_ipv6_acl": "",
"privilege": 2
},
{
"name": "horizon",
"locked": 0,
"trust_host": "0.0.0.0",
"trust_mask": "0.0.0.0",
"trust_acl": 0,
"trust_ipv6_acl": "",
"privilege": 1
},
{
"name": "admin3",
"locked": 0,
"trust_host": "0.0.0.0",
"trust_mask": "0.0.0.0",
"trust_acl": 2,
"trust_ipv6_acl": "ipv6-acl",
"privilege": 1，
"role": "Report ",
    "partition": "partition_253"

    }

]
获取指定用户
Action: admin.user.get
请求参数:

名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 用户名 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=admin.user.get
请求 body：
{
"name":"part-253"
}
响应参数:
名称 类型 范围 含义
name 字符串 长度 1-31 用户名
privilege 整数 1,2 用户权限，1:只读权限,2:读写权限
trust*host IPv4 地址 信任地址
trust_mask 掩码 信任掩码
trust_acl 整数 1-199 信任 acl ID 号
trust_ipv6_acl 字符串 长度 1-191 信任 ipv6-acl 名称
locked 整数 0-1 用户是否被锁定,1 已经锁定,0，未锁定
role 字符串 用户角色
partition 字符串 1-32 分区
响应举例：
{
       "name": "part-253",
       "locked": 0,
       "trust_host": "0.0.0.0",
       "trust_mask": "0.0.0.0",
       "trust_acl": "",
       "trust_ipv6_acl": "",
       "privilege": 2,
       "role": "Report SLB ",
       "partition": "partition_253_horizon\_\_10.6.3.3*"
}
编辑指定用户
Action: admin.user.edit
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 用户名 是
password 字符串 长度 1-63 密码 否 缺省值:不修改
privilege 整数 1,2 用户权限 否 1:只读权限,2:读写权限，缺省值：不修改
trust_host IPv4 地址 信任地址 否 缺省值：0.0.0.0
trust_mask 掩码 信任掩码 否 缺省值：0.0.0.0
trust_acl 整数 1-199 信任 acl ID 号 否 缺省值：0
trust_ipv6_acl 字符串 长度 1-191 信任 ipv6-acl 名称 否 缺省为空
role 字符串 用户角色 否 缺省为空，配置用户的角色，使用该用户登录时只能看到配置的角色的页面，其它页面无法查看，角色如下：
Overview:概况页面角色
Report:报表中心页面角色
SLB:服务器负载均衡页面角色
GSLB:全局负载均衡页面角色
LLB:链路负载均衡页面角色
Network:网络页面角色
System:系统页面角色
Operator:配置节点禁用启动软关机角色
1.web 登录：可以操作节点/节点端口/服务池成员禁用启动软关机暖启动配置
2.api 登录：可以操作节点/节点端口/服务池成员的禁用启用
具体 api：
slb.node.onoff
slb.node.port.onoff
slb.pool.member.onoff
使用方法在 API 手册\_SLB 手册中查看
partition 字符串 1-32 分区 是 默认为 common 分区
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=admin.user.edit
请求 body：
举例：修改分区用户的角色为 SLB
{
"name": "part-253",
"locked": 0,
"trust_host": "0.0.0.0",
"trust_mask": "0.0.0.0",
"privilege": 2,
"role": "SLB ",
"partition": "partition_253"
}

    1.默认存在用户admin的权限不能修改

删除指定用户
Action: admin.user.del
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 用户名 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=admin.user.del
请求 body：
{
"name":"admin2"
} 1.默认存在用户 admin 不能删除 2.在线用户不能删除
设置用户锁定和密码配置
Action: admin.cfg.set
请求参数:
名称 类型 范围 含义 必选 备注
pwdtimeout 整数 0-129600 密码有效期 是 单位分钟,0 表示永不过期,系统默认值 0
pwdlength 整数 1-63 密码最小长度 是 系统默认值 1
pwdcplex 整数 1-4 密码复杂度 是 表示密码至少需要大写字母\小写字母\数字\特殊字符 4 种中的几种字符
系统默认值 1
pwdcpfl 整数 0,1 用户首次登陆需要修改密码 是 0 表示不需要，1 表示需要
系统默认值 0
duration 整数 0-1440 锁定时间 是 单位秒, 系统默认值 10
resettime 整数 1-1440 是 单位秒, 系统默认值 10
threshold 整数 1-10 失败次数 是 系统默认值 5
enable 整数 0,1 是否开启用户锁定功能 是 1 表示开启,0 表示关闭,系统默认值 0
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=admin.cfg.set
请求 body：
{
"pwdtimeout":0,
"pwdlength":1,
"pwdcplex":1,
"pwdcpfl":0,
"duration":10,
"resettime":10,
"threshold":5,
"enable":1
} 1.开启用户锁定功能之后,同一个用户在 检查间隔(resettime)时间内,登陆失败次数达到设定失败次数(threshold)时,将会锁定该用户,使其不能登陆,锁定时间为(duration)。 2.当锁定锁定时间倒计时结束时,用户会自动解锁 3.在锁定时间未结束时,可以通过用户解锁功能手动解除锁定的用户

获取用户锁定配置和密码配置
Action: admin.cfg.get

请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=admin.cfg.get
响应参数:
名称 类型 范围 含义
pwdtimeout 整数 0-129600 密码有效期
pwdlength 整数 1-63 密码最小长度
pwdcplex 整数 1-4 密码复杂度,表示密码至少需要大写字母\小写字母\数字\特殊字符 4 种中的几种字符，系统默认值 1
pwdcpfl 整数 0,1 用户首次登陆需要修改密码
duration 整数 0-1440 锁定时间
resettime 整数 1-1440 检查间隔
threshold 整数 1-10 失败次数
enable 整数 0,1 是否开启用户锁定功能
响应举例：
{
"pwdtimeout":0,
"pwdlength":1,
"pwdcplex":1,
"pwdcpfl":0,
"duration":10,
"resettime":10,
"threshold":5,
"enable":1
}

解锁锁定用户
Action: admin.user.unlock
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-31 要解锁用户的用户名 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=admin.user.unlock
请求 body：
{
"name":"admin2"
}

修改当前用户密码
Action: system.password.set
请求参数:
名称 类型 范围 含义 必选 备注
old_password 字符串 长度 1-63 当前密码 是
password 字符串 长度 1-63 新的密码 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.password.set
请求 body：
{
"old_password":"admin",
"password":"password"
}
获取管理员状态
Action: admin.disable.get
请求参数:无
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=admin.disable.get
响应参数:
名称 类型 范围 含义
enable 整数 0,1 0：使用 admin 用户，1：禁用 admin 用户
name 字符串 长度 1-31 用户名
password 字符串 长度 1-63 密码
响应举例：
{
"enable": 1,
"name": "admin"
}
禁用管理员用户
Action: admin.disable.edit
请求参数:
名称 类型 范围 含义 必选 备注
enable 整数 0,1 是否禁用 是
0：使用 admin 用户，1：禁用 admin 用户
name 字符串 长度 1-31 用户名 是
password 字符串 长度 1-63 密码 是 缺省值:不修改
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=admin.disable.edit
请求 body：
{
"enable": 1,
"name": "admin"，
"password": "12345"
}
获取双因素认证状态
Action: admin.two_factor_authenication.get
请求参数:无
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=admin.two_factor_authenication.get
响应参数：
名称 类型 范围 含义 必选 备注
tfaenable 整数 0,1 是否开启双因素认证 是 0：不开启双因素认证，1：开启双因素认证
admintfaenable 整数 0,1 Admin 用户开启双因素认证 是 0：不开启双因素认证，1：开启双因素认证
mgmtadminuser 字符串 长度 1-63 是 当前 admin 用户名称

响应举例：
{
       "tfaenable": 1,
       "admintfaenable": 0,
       "mgmtadminuser": "admin"
}
开启双因素认证
Action: admin.two_factor_authenication.set
请求参数:
名称 类型 范围 含义 必选 备注
tfaenable 整数 0,1 是否开启双因素认证 是 0：不开启双因素认证，1：开启双因素认证
admintfaenable 整数 0,1 Admin 用户开启双因素认证 是 0：不开启双因素认证，1：开启双因素认证

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=admin.two_factor_authenication.set
请求 body：
{
       "tfaenable": 1,
       "admintfaenable": 0

} 1.开启 admin 用户双因素认证方式后对于禁用 admin 用户后的新 admin 用户继承该动态密码 2.使用动态密码时需要保持系统时间和登录设备的客户端时间保持一致， 并且页面中开启认证，还需要在命令行下配置 dynamic-code-authkey 关联动态密码器，这时双因素认证可以正常使用

分区管理
获取分区列表
Action: system.partition.list
请求参数：无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.partition.list
响应参数：
名称 类型 范围 含义 必选 备注
name 整数 1-32 分区名称 是
id 整数 1-256 分区 ID 否 1-127 网络分区，1-253 非网络分区
max-erules 整数 1-128 分区中可以配置的 erule 文件个数 否 系统默认值 32
network 整数 0,1 是否开启网络，配置后不能修改 是 0 表示关闭，1 表示开启,系统默认值 0
active 整数 0,1 是否从其它分区切换到当前分区 否 0 表示关闭，1 表示开启,系统默认值 0
响应举例：

[
    {
        "name": "partition-1",
        "id": "1",
        "max-erules": "128",
        "network": "1",
        "active": "1"
    },
    {
        "name": "partition-2",
        "id": "2",
        "max-erules": "32",
        "network": "0",
        "active": "0"
    }
]
获取指定分区
Action: system.partition.get
请求参数：
名称 类型 范围 含义 必选 备注
name 整数 1-32 分区名称 是

请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.partition.get
请求 body：
{
"name":"partition-1"
}
响应参数：
名称 类型 范围 含义 必选 备注
name 整数 1-32 分区名称 是
id 整数 1-253 分区 ID 否 1-127 网络分区，1-253 非网络分区
max-erules 整数 1-128 分区中可以配置的 erule 文件个数 否 系统默认值 32
network 整数 0,1 是否开启网络，配置后不能修改 是 0 表示关闭，1 表示开启,系统默认值 0
active 整数 0,1 是否从其它分区切换到当前分区 否 0 表示关闭，1 表示开启,系统默认值 0
响应举例：

{
        "name": "partition-1",
        "id": "1",
        "max-erules": "128",
        "network": "1",
        "active": "1"
    }
添加分区
Action: system.partition.add
请求参数：
名称 类型 范围 含义 必选 备注
name 整数 1-32 分区名称 是
id 整数 1-253 分区 ID 否 不输入分区 ID，自动填充 1-127 网络分区，1-253 非网络分区
max-erules 整数 1-128 分区中可以配置的 erule 文件个数 否 系统默认值 32
network 整数 0,1 是否开启网络，配置后不能修改 是 0 表示关闭，1 表示开启,系统默认值 0
active 整数 0,1 是否从其它分区切换到当前分区 否 0 表示关闭，1 表示开启,系统默认值 0

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.partition.add
请求 body：
 {
        "name": "partition-1",
        "id": "1",
        "max-erules": "32",
        "network": "1",
        "active": "0"
    }
编辑指定分区
Action: system.partition.set
请求参数：
名称 类型 范围 含义 必选 备注
name 整数 1-32 分区名称 是
id 整数 1-253 分区 ID 否 不输入分区 ID，自动填充 1-127 网络分区，1-253 非网络分区
max-erules 整数 1-128 分区中可以配置的 erule 文件个数 否 系统默认值 32
network 整数 0,1 是否开启网络，配置后不能修改 是 0 表示关闭，1 表示开启,系统默认值 0
active 整数 0,1 是否从其它分区切换到当前分区 否 0 表示关闭，1 表示开启,系统默认值 0

请求举例：
POST
http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.partition.set
请求 body：
 {
        "name": "partition-1",
        "id": "1",
        "max-erules": "34",
        "active": "0"
    }
删除指定分区
Action: system.partition.del
请求参数：
名称 类型 范围 含义 必选 备注
Name 整数 1-32 分区名称 是

请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.partition.del
请求 body：
{
"name":"partition-1"
}
切换不同分区
Action: system.partition.active
请求参数：
名称 类型 范围 含义 必选 备注
name 字符串 1-32 分区名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.partition.active
请求 body：
{
"name":"partition-2"

}
获取配置变化时间戳
Action: system.config.status
请求参数：
名称 类型 范围 含义 必选 备注
partition_name 字符串 1-32 分区名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.config.status
请求 body：
{
"partition_name":"partition_3"

}

响应参数：
名称 类型 范围 含义 必选 备注
Updated 字符串 分区更新时间 是
Saved 字符串 分区保存时间 否
Synced 字符串 分区同步时间 否
响应举例：
{
       "partition_3": {
              "Updated": "16:20:18 CST Tue Dec 3 2024",
              "Saved": "16:20:18 CST Tue Dec 3 2024",
              "Synced": "18:37:25 CST Wed Dec 11 2024"
       }
}

客户端锁定
设置客户端锁定配置
Action: client.locked.set
请求参数:
名称 类型 范围 含义 必选 备注
interval 整数 30-180 检查间隔,单位秒 是 系统默认值 60
maxnum 整数 3-16 失败次数, 是 系统默认值 8
locktime 整数 60-86400 锁定时间,单位秒 是 系统默认值 300
enable 整数 0,1 是否开启客户端锁定功能 是 0 表示关闭，1 表示开启,系统默认值 0
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=client.locked.set
请求 body：
{
"interval":"180",
"maxnum": 5,
"locktime":"180",
"enable": 1
} 1.开启客户端锁定功能之后,同一个客户端在 检查间隔(interval)时间内,登陆失败次数达到设定失败次数(maxnum)时,将会锁定该客户端,使其不能登陆,锁定时间为(locktime)。 2.当锁定锁定时间倒计时结束时,客户端会自动解锁 3.在锁定时间未结束时,可以通过客户端解锁功能手动解除锁定的客户端

获取客户端锁定配置
Action: client.locked.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=client.locked.get
响应参数:
名称 类型 范围 含义
interval 整数 30-180 检查间隔,单位秒
maxnum 整数 3-16 失败次数,
locktime 整数 60-86400 锁定时间,单位秒
enable 整数 0,1 客户端锁定功能是否开启 0 表示关闭，1 表示开启,
响应举例：
{
"interval":"180",
"maxnum": 5,
"locktime":"180",
"enable": 1
}

获取锁定客户端列表
Action: client.locked.list
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=client.locked.list
响应参数:
名称 类型 范围 含义
srcip IPv4/v6 地址 被锁定的客户端的 IPv4/v6 地址
remain 整数 0-86400 被锁定的客户端的剩余锁定时间,
响应举例：
[{
"srcip":"192.168.1.5",
"remain": 105
},{
"srcip":"192.168.1.6",
"remain": 100
}]

解锁锁定客户端
Action: client.locked.unlock
请求参数:
名称 类型 范围 含义 必选 备注
srcip IPv4/v6 地址 被锁定的客户端的 IPv4/v6 地址 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=client.locked.unlock
请求 body：
{
"srcip":"192.168.1.5"
}

AAA 认证
AAA 全局配置设置
Action: aaa.general.set
请求参数:
名称 类型 范围 含义 必选 备注
local_disabled 整数 0-1 本地认证去使能 否 1：关闭本地认证
0：开启本地认证
系统默认值 0，缺省值 0
auth_order 整数 1-5 认证顺序
否 1：Local 本地认证
2：Local & Radius 本地认证/Radius 认证
3: Local & Tacacs+ 本地认证/TACACS+ 认证
4: Radius & Local Radius 认证/本地认证
5: Tacacs+ & Local TACACS+ 认证/ Radius 认证
系统默认值 1，缺省值 1
auth_order_console 整数 0-5 console 认证顺序 否 0：None 不认证
1：Local 本地认证
2：Local & Radius 本地认证/Radius 认证
3: Local & Tacacs+ 本地认证/TACACS+ 认证
4: Radius & Local Radius 认证/本地认证
5: Tacacs+ & Local TACACS+ 认证/ Radius 认证
系统默认值 0，缺省值 0
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=aaa.general.set
请求 body：
{
"local_disabled":0,
"auth_order":1,
"auth_order_console":1
}

AAA 全局配置获取
Action: aaa.general.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=aaa.general.get
响应参数:
名称 类型 范围 含义
local_disabled 整数 0-1 本地认证去使能,1：关闭本地认证 0：开启本地认证
auth_order 整数 1-5 认证顺序：
1：Local 本地认证
2：Local & Radius 本地认证/Radius 认证
3: Local & Tacacs+ 本地认证/TACACS+ 认证
4: Radius & Local Radius 认证/本地认证
5: Tacacs+ & Local TACACS+ 认证/ Radius 认证
auth_order_console 整数 0-5 console 认证顺序,
0：None 不认证
1：Local 本地认证
2：Local & Radius 本地认证/Radius 认证
3: Local & Tacacs+ 本地认证/TACACS+ 认证
4: Radius & Local Radius 认证/本地认证
5: Tacacs+ & Local TACACS+ 认证/ Radius 认证
响应举例：
{
"local_disabled":0,
"auth_order":1,
"auth_order_console":0
}

Radius 认证配置设置
Action: aaa.radius.set
请求参数:
名称 类型 范围 含义 必选 备注
server_status 整数 0-1 主服务器状态, 否 1：启用,0：不启用
系统默认值 0，缺省值 0
server_hostname 字符串 1-63 主服务器主机名
可以是主机名也可以是 IPv4/v6 地址 否 系统默认值 hostname
缺省值 hostname
当 server_status 为 1 时该参数为必选参数
server_secret 整数 1-127 主服务器共享密钥 否 系统默认值 secret
缺省值 secret
当 server_status 为 1 时该参数为必选参数
server_authentication 整数 0-65535 主服务器认证端口 否 缺省值 1812,系统默认值 1812
server_account 整数 0-65535 主服务器计费端口 否 缺省值 1813,系统默认值 1813
server_retransmit 整数 0-5 主服务器重传次数 否 缺省值 3,系统默认值 3
server_timeout 整数 1-15 主服务器超时时间,单位秒 否 缺省值 3,系统默认值 3
server_status2 整数 0-1 从服务器状态, 否 1：启用,0：不启用
系统默认值 0，缺省值 0
server_hostname2 字符串 1-63 从服务器主机名
可以是主机名也可以是 IPv4/v6 地址 否 系统默认值 hostname
缺省值 hostname
当 server_status2 为 1 时该参数为必选参数
server_secret2 整数 1-127 从服务器共享密钥 否 系统默认值 secret
缺省值 secret
当 server_status2 为 1 时该参数为必选参数
server_authentication2 整数 0-65535 从服务器认证端口 否 缺省值 1812,系统默认值 1812
server_account2 整数 0-65535 从服务器计费端口 否 缺省值 1813,系统默认值 1813
server_retransmit2 整数 0-5 从服务器重传次数 否 缺省值 3,系统默认值 3
server_timeout2 整数 1-15 从服务器超时时间,单位秒 否 缺省值 3,系统默认值 3
def_priv_enabled 整数 0,1 认证成功后提供默认访问权限 否 系统默认值 0,
设置为 1 时,Radius 认证通过的用户具有读写权限，
设置为 0 时, Radius 认证通过的用户具有只读权限
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=aaa.radius.set
请求 body：
{
"server_status": 1,
"server_hostname": "192.168.70.250",
"server_secret": "radius"
}

Radius 认证配置获取
Action: aaa.radius.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=aaa.radius.get
响应参数:
名称 类型 范围 含义
server_status 整数 0-1 主服务器状态, 1：启用,0：不启用
server_hostname 字符串 长度 1-63 主服务器主机名
可以是主机名也可以是 IPv4 地址/ipv6 地址
server_secret 整数 长度 1-127 主服务器共享密钥
server_authentication 整数 0-65535 主服务器认证端口
server_account 整数 0-65535 主服务器计费端口
server_retransmit 整数 0-5 主服务器重传次数
server_timeout 整数 1-15 主服务器超时时间,单位秒
server_status2 整数 0-1 从服务器状态, 1：启用,0：不启用
server_hostname2 字符串 长度 1-63 从服务器主机名
可以是主机名也可以是 IPv4 地址/ipv6 地址
server_secret2 整数 长度 1-127 从服务器共享密钥
server_authentication2 整数 0-65535 从服务器认证端口
server_account2 整数 0-65535 从服务器计费端口
server_retransmit2 整数 0-5 从服务器重传次数
server_timeout2 整数 1-15 从服务器超时时间,单位秒
def_priv_enabled 整数 0,1 认证成功后提供默认访问权限,
设置为 1 时,Radius 认证通过的用户具有读写权限，
设置为 0 时, Radius 认证通过的用户具有只读权限
响应举例：
{
"server_status":1,
"server_hostname":"192.168.70.250",
"server_secret":"**\*\***",
"server_authentication":1812,
"server_account":1813,
"server_retransmit":3,
"server_timeout":3,
"server_status2":0,
"server_hostname2":"hostname",
"server_secret2":"**\*\***",
"server_authentication2":1812,
"server_account2":1813,
"server_retransmit2":3,
"server_timeout2":3,
"def_priv_enabled":0
}
TACACS+认证配置设置
Action: aaa.tacacs.set
请求参数:
名称 类型 范围 含义 必选 备注
server_status 整数 0-1 主服务器状态, 否 1：启用,0：不启用
系统默认值 0，缺省值 0
server_hostname 字符串 1-63 主服务器主机名
可以是主机名也可以是 IPv4/v6 地址 否 系统默认值 hostname
缺省值 hostname
当 server_status 为 1 时该参数为必选参数
server_secret 整数 1-127 主服务器共享密钥 否 系统默认值 secret
缺省值 secret
当 server_status 为 1 时该参数为必选参数
server_authentication 整数 0-65535 主服务器认证端口 否 缺省值 49,系统默认值 49
server_timeout 整数 1-12 主服务器超时时间,单位秒 否 缺省值 12,系统默认值 12
server_status2 整数 0-1 从服务器状态, 否 1：启用,0：不启用
系统默认值 0，缺省值 0
server_hostname2 字符串 1-255 从服务器主机名
可以是主机名也可以是 IPv4/v6 地址 否 系统默认值 hostname
缺省值 hostname
当 server_status2 为 1 时该参数为必选参数
server_secret2 整数 1-127 从服务器共享密钥 否 系统默认值 secret
缺省值 secret
当 server_status2 为 1 时该参数为必选参数
server_authentication2 整数 0-65535 从服务器认证端口 否 缺省值 49,系统默认值 49
server_timeout2 整数 1-12 从服务器超时时间,单位秒 否 缺省值 12,系统默认值 12
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=aaa.tacacs.set
请求 body：
{
"server_status": 1,
"server_hostname": "192.168.70.250",
"server_secret": "tacacs"
}

TACACS+认证配置获取
Action: aaa.tacacs.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=aaa.tacacs.get
响应参数:
名称 类型 范围 含义
server_status 整数 0-1 主服务器状态, 1：启用,0：不启用
server_hostname 字符串 1-255 主服务器主机名
可以是主机名也可以是 IPv4 地址
server_secret 整数 1-127 主服务器共享密钥
server_authentication 整数 0-65535 主服务器认证端口
server_account 整数 0-65535 主服务器计费端口
server_retransmit 整数 0-5 主服务器重传次数
server_timeout 整数 1-12 主服务器超时时间,单位秒
server_status2 整数 0-1 从服务器状态, 1：启用,0：不启用
server_hostname2 字符串 1-255 从服务器主机名
可以是主机名也可以是 IPv4 地址
server_secret2 整数 1-127 从服务器共享密钥
server_authentication2 整数 0-65535 从服务器认证端口
server_account2 整数 0-65535 从服务器计费端口
server_retransmit2 整数 0-5 从服务器重传次数
server_timeout2 整数 1-12 从服务器超时时间,单位秒
def_priv_enabled 整数 0,1 认证成功后提供默认访问权限,
设置为 1 时,Radius 认证通过的用户具有读写权限，
设置为 0 时, Radius 认证通过的用户具有只读权限
响应举例：
{
"server_status":1,
"server_hostname":"192.168.70.250",
"server_secret":"**\*\***",
"server_authentication":49,
"server_timeout":12,
"server_status2":0,
"server_hostname2":"hostname",
"server_secret2":"**\*\***",
"server_authentication2":49,
"server_timeout2":12
}
LDAP 认证配置设置
Action: aaa.ldap.set
请求参数:
名称 类型 范围 含义 必选 备注
serverstatus 整数 0-1 主服务器状态, 否 1：启用,0：不启用
系统默认值 0，缺省值 0
hostname 字符串 1-63 主服务器主机名
可以是主机名也可以是 IPv4/v6 地址 是
ldap_cn 整数 1-31 通用标识符 是
ldap_dn 整数 1-191 唯一标识符 是
ldap_timeout 整数 1-60 服务器超时时间 否 默认为 3 秒超时，单位为秒
ldap_port 整数 1-65535 主服务器端口号 是 默认端口为 389，开启 ssl 加密后默认端口为 636
ldap_ssl 字符串 0-1 SSL 认证加密 否 开启 ssl 加密后默认端口为 636
Serverstatus2 整数 0-1 备服务器状态, 否 1：启用,0：不启用
系统默认值 0，缺省值 0
hostname 字符串 1-63 备服务器主机名
可以是主机名也可以是 IPv4/v6 地址 是
ldap_cn 整数 1-31 通用标识符 是
ldap_dn 整数 1-191 唯一标识符 是
ldap_timeout 整数 1-60 服务器超时时间 否 默认为 3 秒超时，单位为秒
ldap_port 整数 1-65535 备服务器端口号 是 默认端口为 389，开启 ssl 加密后默认端口为 636
ldap_ssl 字符串 0-1 SSL 认证加密 否 开启 ssl 加密后默认端口为 636
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=aaa.tacacs.set
请求 body：
{
"serverstatus": 1,
"hostname": "192.168.100.1",
"ldap_cn": "cn",
"ldap_dn": "ou=Horizon,dc=test,dc=com",
"ldap_timeout": 1,
"ldap_port": 389,
"ldap_ssl": 1,
"serverstatus2": 1,
"hostname2": "192.168.200.1",
"ldap_cn2": "cn",
"ldap_dn2": "ou=Horizon,dc=test,dc=com",
"ldap_timeout2": 3,
"ldap_port2": 389,
"ldap_ssl2": 0
}
LDAP 认证配置获取
Action: aaa.ldap.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=aaa.tacacs.get
响应参数:
名称 类型 范围 含义
serverstatus 整数 0-1 主服务器状态,
hostname 字符串 1-63 主服务器主机名
可以是主机名也可以是 IPv4/v6 地址
ldap_cn 整数 1-31 通用标识符
ldap_dn 整数 1-191 唯一标识符
ldap_timeout 整数 1-60 服务器超时时间
ldap_port 整数 1-65535 主服务器端口号
ldap_ssl 字符串 0-1 SSL 认证加密
Serverstatus2 整数 0-1 备服务器状态,
hostname 字符串 1-63 备服务器主机名
可以是主机名也可以是 IPv4/v6 地址
ldap_cn 整数 1-31 通用标识符
ldap_dn 整数 1-191 唯一标识符
ldap_timeout 整数 1-60 服务器超时时间
ldap_port 整数 1-65535 备服务器端口号
ldap_ssl 字符串 0-1 SSL 认证加密
响应举例：
{
"serverstatus": 1,
"hostname": "192.168.100.1",
"ldap_cn": "cn",
"ldap_dn": "ou=Horizon,dc=test,dc=com",
"ldap_timeout": 1,
"ldap_port": 389,
"ldap_ssl": 1,
"serverstatus2": 1,
"hostname2": "192.168.200.1",
"ldap_cn2": "cn",
"ldap_dn2": "ou=Horizon,dc=test,dc=com",
"ldap_timeout2": 3,
"ldap_port2": 389,
"ldap_ssl2": 0
}
许可管理
许可信息获取
Action: license.info.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=license.info.get
响应参数:
名称 类型 范围 含义
deadline 字符串 过期时间,格式为 year-mon-day, “0”表示永久
device_id 字符串 设备 ID,用于申请许可时提供
bandwidth 整数 许可带宽,单位 Mb/s, 0 表示不限制带宽
lic_exist 整数 0-1 是否有授权许可,
0 表示没有授权 license
1 表示授权 license
rdays 整数 -1-2147483647 许可剩余天数,单位天，-1 表示永久
响应举例：
{
"deadline": "0",
"device_id": "V6PkPdINbfkoP66......",
"bandwidth": 0,
"lic_exist": 1,
"rdays": -1
}
此 API 与 API system.license.get 功能相同

许可文件上传
Action: license.file.upload
请求参数:无
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=license.file.upload

    此API需要使用form-data的方式上传许可文件

NTP 配置
添加 NTP 配置
Action: system.ntp.add
请求参数:
名称 类型 范围 含义 必选 备注
server 字符串 1-63 NTP 服务器地址，可以使用主机名/IPv4 地址/IPv6 地址 是 长度仅指主机名
status 整数 0-1 NTP 开启状态, 0 表示关闭，1 表示开启，默认开启 否
prefer 整数 0-1 NTP 优先选取, 0 表示关闭，1 表示开启，默认关闭 否
minpoll 整数 4-14 NTP 同步时间指数最小值，默认 6 否
maxpoll 整数 4-14 NTP 同步时间指数最大值，默认 10 否
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.ntp.add
请求 body：
{
"server": "12.2.2.2",
"status": 0,
"prefer": 1,
"minpoll": 5,
"maxpoll": 9
}
获取 NTP 配置列表
Action: system.ntp.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.ntp.list
响应参数:
名称 类型 范围 含义
server 字符串 1-63 NTP 服务器地址，可以使用主机名/IPv4 地址/IPv6 地址, 长度指主机名
status 整数 0-1 NTP 开启状态, 0 表示关闭，1 表示开启
prefer 整数 0-1 NTP 优先选取, 0 表示关闭，1 表示开启
minpoll 整数 4-14 NTP 同步时间指数最小值
maxpoll 整数 4-14 NTP 同步时间指数最大值
响应举例：
[{
"server": "12.2.2.2",
"status": 0,
"prefer": 1,
"minpoll": 7,
"maxpoll": 10
}, {
"server": "192.168.70.240",
"status": 1,
"prefer": 0,
"minpoll": 6,
"maxpoll": 10
}]
获取指定 NTP 配置
Action: system.ntp.get
请求参数:
名称 类型 范围 含义 必选 备注
server 字符串 1-63 NTP 服务器地址，可以使用主机名/IPv4 地址/IPv6 地址 是 长度指主机名
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.ntp.get
请求 body：
{
"server": "12.2.2.2"
}
响应参数:
名称 类型 范围 含义
server 字符串 长度 1-63 NTP 服务器地址，可以使用主机名/IPv4 地址/IPv6 地址,长度指主机名
status 整数 0-1 NTP 开启状态, 0 表示关闭，1 表示开启
prefer 整数 0-1 NTP 优先选取, 0 表示关闭，1 表示开启
minpoll 整数 4-14 NTP 同步时间指数最小值
maxpoll 整数 4-14 NTP 同步时间指数最大值
响应举例：
{
"server": "12.2.2.2",
"status": 0,
"prefer": 1,
"minpoll": 5,
"maxpoll": 9
}
编辑 NTP 配置
Action: system.ntp.edit
请求参数:
名称 类型 范围 含义 必选 备注
server 字符串 长度 1-63 NTP 服务器地址，可以使用主机名/IPv4 地址/IPv6 地址 是 长度指主机名
status 整数 0-1 NTP 开启状态, 0 表示关闭，1 表示开启 否
prefer 整数 0-1 NTP 优先选取, 0 表示关闭，1 表示开启 否
minpoll 整数 4-14 NTP 同步时间指数最小值，默认 6 否
maxpoll 整数 4-14 NTP 同步时间指数最大值，默认 10 否
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.ntp.edit
请求 body：
{
"server": "12.2.2.2",
"status": 1,
"prefer": 1,
"minpoll": 5,
"maxpoll": 9
}

删除指定 NTP 配置
Action: system.ntp.del
请求参数:
名称 类型 范围 含义 必选 备注
server 字符串 长度 1-63 NTP 服务器地址，可以使用主机名/IPv4 地址/IPv6 地址 是 长度指主机名
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.ntp.del
请求 body：
{
"server": "12.2.2.2"
}
WEB 会话
设置 WEB 会话超时时间及是否默认显示高级选项
Action: system.web.set
请求参数:
名称 类型 范围 含义 必选 备注
timeout 整数 0-60 web 会话超时时间,单位分钟,其中 0 表示永不超时 是 系统默认 10 分钟
default_show_advanced 整数 0，1 web 页面部分功能会隐藏在高级选项中，0 为默认不显示高级选项的内容，1 为默认显示高级选项的内容 是 系统默认为 0 不显示高级选项
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.web.set
请求 body：
{
"timeout":60
"default_show_advanced": 0

}
设置 WEB 会话超时时间会同时设置 authkey 的超时时间

获取 WEB 会话超时时间及是否默认显示高级选项
Action: system.web.get
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.web.get
响应参数:
名称 类型 范围 含义
timeout 整数 0-60 web 会话超时时间,单位分钟,其中 0 表示永不超时
default_show_advanced 整数 0，1 web 页面部分功能会隐藏在高级选项中，0 为默认不显示高级选项的内容，1 为默认显示高级选项的内容
响应举例：
{
"timeout":60
"default_show_advanced": 0
}
设置 WEB 会话限制
Action: web.session.limit.set
请求参数:

名称 类型 范围 含义 必选 备注
global_limit 整数 1-128 全局 WEB 管理会话上限 是 系统默认 128
user_limit 整数 1-64 每用户 WEB 管理会话上限 是 系统默认 64
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=web.session.limit.set
请求 body：
{
"global_limit":20,
"user_limit":10
}
API 登陆形成的会话也属于 WEB 管理会话

获取 WEB 会话限制配置
Action: web.session.limit.get
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=web.session.limit.get
响应参数:
名称 类型 范围 含义
global_limit 整数 1-128 全局 WEB 管理会话上限
user_limit 整数 1-64 每用户 WEB 管理会话上限
响应举例：
{
"global_limit":20,
"user_limit":10
}
WEB 证书管理
获取 web 证书列表
Action: system.web.cert.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.web.cert.list
响应参数:
名称 类型 范围 含义
name 字符串 长度 1-63 证书的名称。
运行证书固定为"web-cert.pem"
运行私钥固定为"web-cert.key"
缺省证书固定为"default-web-cert.pem"
缺省私钥固定为"default-web-cert.key"
自定义证书固定为"bak-web-cert.pem"
自定义私钥固定为"bak-web-cert.key"
type 字符串 类型：Certificate/key
issuer 字符串 发行者
common_name 字符串 通用名称
organization 字符串 组织
division 字符串 部门
locality 字符串 地区
state_province 字符串 省份
country 字符串 国家
email 字符串 电子邮箱
expiration 字符串 过期时间
key_type 字符串 公钥类型
version 字符串 版本
serial_number 字符串 序列号
fingerprint 字符串 指纹
key_size 数字 公钥长度

响应举例：
[{
"name": "bak-web-cert.pem",
"type": "certificate",
"issuer": "Self",
"common_name": "111111",
"organization": "11111",
"division": "11111",
"locality": "11111",
"state_province": "11111",
"country": "CN",
"email": "",
"expiration": "Feb 11 07:32:35 2021 GMT",
"key_type": "rsa",
"version": "V1",
"serial_number": "e52820eacdea09a3",
"fingerprint": "SHA256/5A:C5:BE:25:69:03:31:6F:D7:B2:1C:A9:21:34:A3:4A:8E:23:19:C0:02:39:C3:26:86:32:CE:83:9D:5F:58:CF ",
"key_size": 1024
}, {
"name": "web-cert.pem",
"type": "certificate",
"issuer": "Self",
"common_name": "222",
"organization": "222",
"division": "222",
"locality": "222",
"state_province": "222",
"country": "CN",
"email": "222@222.com",
"expiration": "Jan 15 08:08:27 2021 GMT",
"key_type": "rsa",
"version": "V1",
"serial_number": "b79dc75a480b33d1",
"fingerprint": "SHA256/3E:9C:3E:B8:BA:A9:AE:A7:A6:62:45:47:03:0F:09:CA:8E:30:EF:E4:D5:7A:77:DA:53:BB:C7:25:5A:D6:96:28 ",
"key_size": 1024
}, {
"name": "default-web-cert.pem",
"type": "certificate",
"issuer": "Self",
"common_name": "www.adc.com",
"organization": "horizonadn",
"division": "horizonadn",
"locality": "horizonadn",
"state_province": "Beijing",
"country": "CN",
"email": "",
"expiration": "Oct 8 08:51:11 2027 GMT",
"key_type": "rsa",
"version": "V1",
"serial_number": "aa4840194a01e9f2",
"fingerprint": "SHA256/B2:C4:C4:BB:CB:DB:78:07:48:A5:6B:CA:51:72:36:43:62:7A:0E:3A:33:D2:38:1D:AF:D4:4A:8A:A6:88:B7:C9 ",
"key_size": 2048
}, {
"name": "bak-web-cert.key",
"type": "key",
"key_size": 1024
}, {
"name": "web-cert.key",
"type": "key",
"key_size": 1024
}, {
"name": "default-web-cert.key",
"type": "key",
"key_size": 2048
}]
删除 web 证书
Action: system.web.cert.del
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-63 要删除的证书或私钥名称 是 只能删除自定义证书
自定义证书固定为"bak-web-cert.pem"
自定义私钥固定为"bak-web-cert.key"
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.web.cert.del
请求 body：
{"name": "bak-web-cert.key"}
应用 web 证书
Action: system.web.cert.apply
请求参数:无

请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.web.cert.apply

上传 web 私钥文件
Action: system.web.key.upload
请求参数:无
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.web.key.upload

响应举例:
{"success":true,"msg":"Upload OK."} 1.使用 form-data 方式上传私钥文件,文件内容在 body 中 2.上传之后的私钥会覆盖之前的私钥
下载 web 私钥文件
Action: system.web.key.download
请求参数:无
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.web.key.download
请求 body：
{"name": "bak-web-cert.key"}

    1.此API会下载当前自定义web私钥文件,并且默认命名为web-cert.key

上传 web 证书文件
Action: system.web.cert.upload
请求参数:无
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.web.cert.upload

响应举例:
{"success":true,"msg":"Upload OK."} 1.使用 form-data 方式上传证书文件,文件内容在 body 中 2.上传之后的证书会覆盖之前的证书
下载 web 证书文件
Action: system.web.cert.download
请求参数:无
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.web.cert.download
请求 body：
{"name": "bak-web-cert.pem"}

    1.此API会下载当前自定义web证书文件,并且默认命名为web-cert.pem

WEB 网页加密算法和版本
获取 web 网页加密算法和版本
Action: system.web.ciphers.get
请求参数:无
请求举例:
POST http://10.4.119.8/adcapi/v2.0/?authkey=76dcdd4993ab4c4b2ade293200e453&action=system.web.ciphers.get

响应参数:
名称 类型 范围 含义
ciphers_all 字符串 管理 ssl 支持的所有加密算法
ciphers 字符串 管理 ssl 当前配置的加密算法
protocols 字符串 管理 ssl 支持的 ssl 版本

响应举例：
{
"ciphers_all": [
"ECDHE-ECDSA-AES256-GCM-SHA384",
"ECDHE-RSA-AES256-GCM-SHA384",
"ECDHE-ECDSA-CHACHA20-POLY1305",
"ECDHE-RSA-CHACHA20-POLY1305",
"ECDHE-ECDSA-AES128-GCM-SHA256",
"ECDHE-RSA-AES128-GCM-SHA256",
"ECDHE-ECDSA-AES256-SHA384",
"ECDHE-RSA-AES256-SHA384",
"ECDHE-ECDSA-AES128-SHA256",
"ECDHE-RSA-AES128-SHA256",
"ECDHE-ECDSA-AES256-SHA",
"ECDHE-RSA-AES256-SHA",
"ECDHE-ECDSA-AES128-SHA",
"ECDHE-RSA-AES128-SHA",
"AES256-GCM-SHA384",
"AES128-GCM-SHA256",
"AES256-SHA256",
"AES128-SHA256",
"AES256-SHA",
"AES128-SHA"
],
"ciphers": [
"ECDHE-ECDSA-AES256-GCM-SHA384",
"ECDHE-RSA-AES256-GCM-SHA384",
"ECDHE-ECDSA-CHACHA20-POLY1305",
"ECDHE-RSA-CHACHA20-POLY1305",
"ECDHE-ECDSA-AES128-GCM-SHA256",
"ECDHE-RSA-AES128-GCM-SHA256",
"ECDHE-ECDSA-AES256-SHA384",
"ECDHE-RSA-AES256-SHA384",
"ECDHE-ECDSA-AES128-SHA256",
"ECDHE-RSA-AES128-SHA256",
"ECDHE-ECDSA-AES256-SHA",
"ECDHE-RSA-AES256-SHA",
"ECDHE-ECDSA-AES128-SHA",
"ECDHE-RSA-AES128-SHA",
"AES256-GCM-SHA384",
"AES128-GCM-SHA256",
"AES256-SHA256",
"AES128-SHA256"
],
"protocols": [
"TLSv1.0",
"TLSv1.2",
"TLSv1.3"
]
}

设置 web 网页加密算法和版本
Action: system.web.ciphers.set
请求参数:无
请求举例:
POST http://10.4.119.8/adcapi/v2.0/?authkey=76dcdd4993ab4c4b2ade293200e453&action=system.web.ciphers.set

请求 body：
{
"ciphers_all": [
"ECDHE-ECDSA-AES256-GCM-SHA384",
"ECDHE-RSA-AES256-GCM-SHA384",
"ECDHE-ECDSA-CHACHA20-POLY1305",
"ECDHE-RSA-CHACHA20-POLY1305",
"ECDHE-ECDSA-AES128-GCM-SHA256",
"ECDHE-RSA-AES128-GCM-SHA256",
"ECDHE-ECDSA-AES256-SHA384",
"ECDHE-RSA-AES256-SHA384",
"ECDHE-ECDSA-AES128-SHA256",
"ECDHE-RSA-AES128-SHA256",
"ECDHE-ECDSA-AES256-SHA",
"ECDHE-RSA-AES256-SHA",
"ECDHE-ECDSA-AES128-SHA",
"ECDHE-RSA-AES128-SHA",
"AES256-GCM-SHA384",
"AES128-GCM-SHA256",
"AES256-SHA256",
"AES128-SHA256",
"AES256-SHA",
"AES128-SHA"
],
"ciphers": [
"ECDHE-ECDSA-AES256-GCM-SHA384",
"ECDHE-RSA-AES256-GCM-SHA384",
"ECDHE-ECDSA-CHACHA20-POLY1305",
"ECDHE-RSA-CHACHA20-POLY1305",
"ECDHE-ECDSA-AES128-GCM-SHA256",
"ECDHE-RSA-AES128-GCM-SHA256",
"ECDHE-ECDSA-AES256-SHA384",
"ECDHE-RSA-AES256-SHA384",
"ECDHE-ECDSA-AES128-SHA256",
"ECDHE-RSA-AES128-SHA256",
"ECDHE-ECDSA-AES256-SHA",
"ECDHE-RSA-AES256-SHA",
"ECDHE-ECDSA-AES128-SHA",
"ECDHE-RSA-AES128-SHA",
"AES256-GCM-SHA384",
"AES128-GCM-SHA256",
"AES256-SHA256",
"AES128-SHA256"
],
"protocols": [
"TLSv1.0",
"TLSv1.2"
]
}

系统应用端口
设置系统应用端口配置
Action: system.ports.set
请求参数:
名称 类型 范围 含义 必选 备注
sshd_port 整数 1-65535 ssh 端口 否 系统默认 SSH 端口 22,缺省表示不修改
telnet_port 整数 1-65535 telnet 端口 否 系统默认 TELNET 端口 23,缺省表示不修改
http_port 整数 1-65535 http 端口 否 系统默认 HTTP 端口 80,缺省表示不修改
https_port 整数 1-65535 https 端口 否 系统默认 HTTPS 端口 443,缺省表示不修改
weak_algo 整数 0,1 ssh 弱算法 否 缺省值为 1，1 为开启状态，0 为关闭状态
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.ports.set
请求 body：

{
       "sshd_port": 220,
       "weak_algo": 0,
       "telnet_port": 230,
       "http_port": 800,
       "https_port": 4430
}

    SSH/TELNET/HTTP/HTTPS的系统默认端口号只能自己使用,别的应用不能使用

例如 22 预留给 SSH，即使 SSH 端口号已经修改为 22000,别的应用也不能用 22 端口

获取系统应用端口配置
Action: system.ports.get
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.ports.get
响应参数:
名称 类型 范围 含义
sshd_port 整数 1-65535 ssh 端口
telnet_port 整数 1-65535 telnet 端口
http_port 整数 1-65535 http 端口
https_port 整数 1-65535 https 端口
weak_algo 整数 0,1 ssh 弱算法，缺省值为 1，1 为开启状态，0 为关闭状态
响应举例：
{
       "sshd_port": 22,
       "weak_algo": 1,
       "telnet_port": 23,
       "http_port": 80,
       "https_port": 443
}
系统操作
保存配置
Action: save
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=save
系统重启
Action: system.action.reboot
请求参数:
名称 类型 范围 含义 必选 备注
save 整数 0,1 重启前是否保存配置，0;不保存,1:保存 否 缺省值：0

请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.action.reboot
Body:
{"save" : 1}
重新加载配置
Action: system.action.reload
请求参数:
名称 类型 范围 含义 必选 备注
save 整数 0,1 重新加载配置前是否保存配置，0;不保存,1:保存 否 缺省值：0

请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.action.reload
Body:
{"save" : 1}
系统关机
Action: system.action.shutdown
请求参数:
名称 类型 范围 含义 必选 备注
save 整数 0,1 系统关机前是否保存配置，0;不保存,1:保存 否 缺省值：0

请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.action.shutdown
Body:
{"save" : 1}
系统恢复默认配置
Action: system.action.default
请求参数:
名称 类型 范围 含义 必选 备注
dhcp 整数 0,1 恢复默认配置后,管理口是否使用 dhcp 获取地址, 是 1:是，0:否
ip IPv4 地址 恢复默认配置后,管理口使用的静态 IP 地址 否 当 dhcp 为 0 时必选
mask 掩码 恢复默认配置后,管理口使用的掩码 否 当 dhcp 为 0 时必选
gw IPv4 地址 恢复默认配置后,管理口使用的网关 IP 地址 否
ipv6 IPv6 地址 恢复默认配置后,管理口使用的静态 IPv6 地址 否
ipv6_prefix IPv6 地址前缀 恢复默认配置后,管理口使用的静态 IPv6 地址前缀 否
ipv6_gw IPv6 地址 恢复默认配置后,管理口使用的网关 IPv6 地址 否

请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.action.default
Body:
{
"dhcp" : 0,
"ip": "192.168.70.63",
"mask": "255.255.255.0",
"gw": "192.168.70.250",
"ipv6": "2001:30::63",
"ipv6_prefix": "64",
"ipv6_gw": "2001:30::1"
}

    1.当dhcp为1时,管理口使用dhcp获取IP地址,ip/mask/gw 参数无效

2.API 执行完成后，需要不保存配置并重启才能生效

配置文件管理
添加配置文件
Action: system.config.add
请求参数:
名称 类型 范围 含义 必选 备注
file_name 字符串 长度 1-191 备份的配置文件的名称 是
description 字符串 长度 1-191 备份的配置文件的描述信息 否 缺省值：空字符串""
flag 整数 0,1 要备份的配置文件类型,0:把当前运行配置进行备份,1:把当前启动配置文件进行备份 否 缺省值：0
password 字符串 长度 1-63 备份配置文件的加密密码 否 缺省值：空
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.config.add
请求 body：
{
"file_name": "backup",
"description": "ii",
"encrypt": 0,
"overwrite": 0,
"flag":0
}

    当前版本支持最多128个配置文件

获取配置文件列表
Action: system.config.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.config.list
响应参数:
名称 类型 范围 含义
file_name 字符串 长度 1-191 备份的配置文件的名称
description 字符串 长度 1-191 备份的配置文件的描述信息
time 字符串 长度 1-63 添加备份时的时间
响应举例：
[{
"file_name":"config_beijing",
"description":"bj",
"time":"2019-09-06 14:25:30"
},{
"file_name":"config_nanjing",
"description":"",
"time":"2019-09-06 14:26:32"
}]
指定配置文件
Action: system.config.apply
请求参数:
名称 类型 范围 含义 必选 备注
file_name 字符串 长度 1-191 备份的配置文件的名称,指定后，下次系统重启或者下次加载配置时会使用指定的配置文件 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.config.apply
请求 body：
{
"file_name":"config_beijing"
}

删除配置文件
Action: system.config.del
请求参数:
名称 类型 范围 含义 必选 备注
file_name 字符串 长度 1-191 要删除配置文件的名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.config.del
请求 body：
{
"file_name":"config_beijing"
}
配置文件导出
Action: system.config.backup
请求参数:
无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.config.backup
请求 body：
{
"name": "config_file"
} 1. 当带 body  则导出指定名称备份的配置。 2.当不带 body 则会下载当前设备的启动配置文件压缩包到本地

配置文件导入
Action: system.config.restore
请求参数:无
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.config.restore 2.该 API 需要以 form-data 的方式上传之前导出的配置文件 zip 压缩包 3.导入后需要重新加载配置或者系统重启,使恢复的配置生效
自动备份管理
获取自动备份配置
Action: autobackup.config.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dfa0ebc0b62922154bee2943520b24&action=autobackup.config.get
响应参数:
名称 类型 范围 含义
host 字符串 长度 1-191 服务器地址,支持 ipv4，ipv6，域名类型的服务器
password 字符串 长度 1-191 备份远程服务器密码
path 字符串 长度 1-191 备份远程服务器存放配置文件的路径
username 字符串 长度 1-191 备份远程服务器用户名
timerange 字符串 长度 1-63 选择时间对象作为自动备份的时间节点
max_backup 整数 1-16 最大备份数 1-16 默认为 3
port 整数 1-65535 端口 1-65535 默认为 22
conf_name 字符串 1-191 配置文件名称
method 整数 0-2 自动备份协议 0:ftp,1:sftp,2:scp
name_format 整数 0-2 名称格式 0:空 1:名称日期,2:日期名称

响应举例：
{
       "host": "10.2.129.8",
       "password": "**\*\***",
       "path": "/",
       "username": "root",
       "timerange": "auto-time",
       "max_backup": 16,
       "port": 22,
       "conf_name": "auto-config",
       "method": 2,
       "name_format": 1
}  
设置自动备份配置
Action: autobackup.config.set
请求参数:
名称 类型 范围 含义
host 字符串 1-191 服务器地址,支持 ipv4，ipv6，域名类型的服务器
password 字符串 1-191 备份远程服务器密码
path 字符串 1-191 备份远程服务器存放配置文件的路径
username 字符串 1-191 备份远程服务器用户名
timerange 字符串 1-63 选择时间对象作为自动备份的时间节点
max_backup 整数 1-16 最大备份数 1-16 默认为 3
port 整数 1-65535 端口 1-65535 默认为 22
conf_name 字符串 1-191 配置文件名称
method 整数 0-2 自动备份协议 0:ftp,1:sftp,2:scp
name_format 整数 0-2 名称格式 0:空 1:名称日期,2:日期名称

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dfa0ebc0b62922154bee2943520b24&action=autobackup.config.set
请求 Body：
{
"host": "120.1.129.130",
"password": "123456",
"path": "/",
"username": "admin",
"timerange": "auto-time",
"max_backup": 13,
"port": 22,
"conf_name": "auto-config",
"method": 2,
"name_format": 1
} 1.需要提前配置时间对象，并填入相应的选项 2.如果备份的服务器出现密码或者端口号错误的问题，只会进行备份但是不会导出配置文件
自动备份恢复
Action: autobackup.restore
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 1-191 备份文件名 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dfa0ebc0b62922154bee2943520b24&action=autobackup.restore
请求 body
{
"name": "config.zip"  
}

自动备份列表
Action: autobackup.list
请求参数:无
请求举例：
GET
http://192.168.70.73/adcapi/v2.0/?authkey=dfa0ebc0b62922154bee2943520b24&action=autobackup.list
响应参数:
名称 类型 范围 含义
name 字符串 1-191 备份文件名
响应举例：
[
       {
              "name": "config_20240630102109.zip",
              "time": "2024-06-30 10:21:14"
       },
       {
              "name": "config_20240701071308.zip",
              "time": "2024-07-01 07:13:12"
       },
]

自动备份删除
Action: autobackup.del
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-191 备份文件名 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dfa0ebc0b62922154bee2943520b24&action=autobackup.del
请求 body
{
"name": "config.zip"  
}

诊断信息
诊断信息列表
Action: system.diaginfo.list
请求参数:无
请求举例:
GET
http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.diaginfo.list

响应参数:
名称 类型 范围 含义
total 数字 0-64 创建的诊断信息数量
name 字符串 1-191 诊断信息名称
time 字符串 1-63 诊断信息的时间
status 字符串 generating,done 诊断信息当前状态，generating 表示诊断信息正在创建中，done 表示诊断信息创建完成
响应举例：
{   "total": 1,
   "data": 
[  
   {
                     "name": "diaginfo",
                     "time": "2024-07-01 14:22:59",
                     "status": "Done"
              }

]
}

诊断信息增加
Action：system.diaginfo.add
请求参数：
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-191 诊断信息名称 是
请求举例：
POST
http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.diaginfo.add
请求 body：
{  
"name":"apireport"
}

诊断信息删除
Action：system.diaginfo.del
请求参数：
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-191 诊断信息名称 是
请求举例：
POST
http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.diaginfo.del请求body：
{
"name":"apireport"
}

诊断报告下载
Action：system.diaginfo.download
请求参数：
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-191 诊断信息名称 是

请求举例:
POST
http://192.168.70.63/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.diaginfo.download&name=apireport

    此API命令会下载一个诊断信息

系统报告
系统报告列表
Action: system.report.list
请求参数:无
请求举例:
GET
http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.report.list
响应参数:
名称 类型 范围 含义
total 数字 0-64 创建的系统报告数量
name 字符串 1-191 系统报告名称
time 字符串 1-63 系统报告创建的时间
status 字符串 generating,done 系统报告当前状态，generating 表示系统报告正在创建中，done 表示系统报告创建完成
响应举例：
{   "total": 1,
   "data": 
[  
   {
                     "name": "report",
                     "time": "2024-07-01 14:22:59",
                     "status": "Done"
              }

]
}

系统报告增加
Action：system.report.add
请求参数：
名称 类型 范围 含义 必选 备注
name 字符串 1-191 系统报告名称 是
请求举例：
POST
http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.report.add
请求 body：
{  
"name":"apireport"
}

系统报告删除
Action：system.report.del
请求参数：
名称 类型 范围 含义 必选 备注
name 字符串 1-191 系统报告名称 是
请求举例：
POST
http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.report.del
请求 body：
{
"name":"apireport"
}

系统报告下载
Action：system.report.download
请求参数：
名称 类型 范围 含义 必选 备注
name 字符串 1-191 系统报告名称 是

请求举例:
POST
http://192.168.70.63/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.report.download&name=apireport

    此API命令会下载一个系统报告

版本镜像管理
获取版本镜像列表
Action: system.image.list
请求参数:无
请求举例:
GET
http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.image.list
响应参数:
名称 类型 范围 含义
file_name 字符串 1-63 版本镜像文件的名称
bflag 字符串 1-63 版本镜像是否为指定镜像,当版本镜像为指定镜像时才存在该关键字,并且取值固定为"V"
time 字符串 1-63 版本镜像上传的时间
响应举例：
[{
"file_name":"tst_ad_hongji_image_V3.8R2B410_2019-08-13_12h12m",
"bflag":"V",
"time":"2019-09-03 13:40:02"
},{
"file_name":"Current Image",
"time":"2019-08-12 16:16:53"
}]

指定镜像
Action: system.image.apply
请求参数:
名称 类型 范围 含义 必选 备注
file_name 字符串 1-63 指定下次启动使用的镜像文件的名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.image.apply
Body:
{"file_name":"tst_ad_hongji_image_V3.8R2B410_2019-08-13_12h12m"}
通过 FTP/TFTP 方式上传镜像
Action: system.image.upload
请求参数:
名称 类型 范围 含义 必选 备注
host IPv4 地址 长度 1-31 FTP/TFTP 服务器的 IPv4 地址 是
location 字符串 长度 1-63 镜像名称 是 镜像必须处于 FTP/TFTP 的根目录
protocol 字符串 使用的协议,仅支持"FTP"和"TFTP" 是
port 整数 1-65535 使用的端口号, 否 FTP 缺省 21,TFTP 缺省 69
username 字符串 长度 1-31 用户名 否 缺省值: 空字符串""
password 字符串 长度 1-31 密码 否 缺省值: 空字符串""
use_mgmt_port 整数 0,1 使用管理口 否 缺省值:0，
reboot 整数 0,1 上传完镜像后是否自动重启 否 1:是,0：否；缺省值:1
save_config 整数 0,1 自动重启时是否保存配置 否 1:是,0：否；缺省值:0，
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.image.upload
举例 1:使用 FTP 上传镜像
Body1:
{
"host":"192.168.1.100",
"location":"tst_ad_hongji_image_V3.8R2B410_2019-08-13_12h12m",
"protocol":"FTP",
"username":"anonymous",
"password":"password",
"reboot":1,
"save_config":1
}
举例 2:使用 TFTP 上传镜像
Body2:
{
"host":"192.168.1.100",
"location":"tst_ad_hongji_image_V3.8R2B410_2019-08-13_12h12m",
"protocol":"TFTP",
"reboot":1,
"save_config":1
} 1.上传之后的镜像会自动设为指定镜像 2.上传的镜像总数最多为 4 个，上传后会删除上传前的非指定镜像

通过 HTTP/HTTPS 方式上传镜像
Action: system.image.upload
url: /webupload/adcapi/v2.0/
请求参数:
名称 类型 范围 含义 必选 备注
webfilename 字符串 1-63 要显示在镜像列表中的镜像名称 是 支持字符 0-9a-zA-Z.\_-
reboot 整数 0,1 上传完镜像后是否自动重启 否 1:是,0：否；缺省值:1
save_config 整数 0,1 自动重启时是否保存配置 否 1:是,0：否；缺省值:0，
请求举例:
POST http://192.168.70.73/webupload/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.image.upload&webfilename=tst_ad_hongji_image_V3.8R2B410_2019-08-13_12h12m&reboot=1&save_config=1

    1.使用form-data方式上传镜像文件,文件内容在body中

2.上传之后的镜像会自动设为指定镜像 3.上传的镜像总数最多为 4 个，上传后会删除上传前的非指定镜像 4.使用 HTTP/HTTPS 上传镜像的时候,URL 与别的 API 不一样 5.使用 HTTP/HTTPS 上传镜像的时候,参数在 URL 中携带,而不是在 body 中 6.根据上传的网速不同,需要耗费的时间不一样,从几十秒到几分钟不等.
网络连通性测试
Ping 请求
Action: system.ping.request
请求参数:
名称 类型 范围 含义 必选 备注
destination IPv4 地址 目的 IPv4 地址 是
source IPv4 地址 指定源 IPv4 地址，不指定时根据路由自动选择源 IP 地址 否 缺省值：不指定
count 整数 1-60 ping 的个数 否 缺省值：5
interval 整数 1-5 ping 的间隔,单位秒 否 缺省值：0
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.ping.request
请求 body：
{
"destination":"192.168.50.107",
"source":"20.1.1.1",
"count":55,
"interval":3
}
Ping 结果
Action: system.ping.result
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.ping.result
响应参数:
名称 类型 范围 含义
result 字符串 返回 ping 请求的结果
响应举例：
{
"result":"PING 192.168.50.107 (192.168.50.107) from 192.168.70.73 : 56(84) bytes of data.\\n64 bytes from 192.168.50.107: icmp_seq=1 ttl=127 time=3.54 ms\\n64 bytes from 192.168.50.107: icmp_seq=2 ttl=127 time=0.442 ms\\n64 bytes from 192.168.50.107: icmp_seq=3 ttl=127 time=0.405 ms\\n64 bytes from 192.168.50.107: icmp_seq=4 ttl=127 time=0.405 ms\\n64 bytes from 192.168.50.107: icmp_seq=5 ttl=127 time=0.518 ms\\n64 bytes from 192.168.50.107: icmp_seq=6 ttl=127 time=3.14 ms\\n64 bytes from 192.168.50.107: icmp_seq=7 ttl=127 time=0.593 ms\\n\\n--- 192.168.50.107 ping statistics ---\\n7 packets transmitted, 7 received, 0% packet loss, time 30005ms\\nrtt min/avg/max/mdev = 0.405/1.291/3.540/1.302 ms\\n"
}
只有在 Ping 请求执行完成后才能得到结果
数据口抓包
添加入接口过滤条件
Action: capture.rxif.add
请求参数:
名称 类型 范围 含义 必选 备注
slot 整数 0-8 物理接口的插槽号 是
port 整数 0-7 物理接口的端口号 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.rxif.add
请求 body：
{
"slot":0,
"port":2
}
获取入接口列表
Action: capture.rxif.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.rxif.list
响应参数:
名称 类型 范围 含义
slot 整数 0-8 物理接口的插槽号
port 整数 0-7 物理接口的端口号
响应举例：
[{
"slot":0,
"port":2
}]
删除入接口
Action: capture.rxif.del
请求参数:
名称 类型 范围 含义 必选 备注
slot 整数 0-8 物理接口的插槽号 是
port 整数 0-7 物理接口的端口号 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.rxif.del
请求 body：
{
"slot":0,
"port":2
}
添加出接口过滤条件
Action: capture.txif.add
请求参数:
名称 类型 范围 含义 必选 备注
slot 整数 0-8 物理接口的插槽号 是
port 整数 0-7 物理接口的端口号 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.txif.add
请求 body：
{
"slot":0,
"port":2
}
获取出接口列表
Action: capture.txif.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.txif.list
响应参数:
名称 类型 范围 含义
slot 整数 0-8 物理接口的插槽号
port 整数 0-7 物理接口的端口号
响应举例：
[{
"slot":0,
"port":2
}]
删除出接口
Action: capture.txif.del
请求参数:
名称 类型 范围 含义 必选 备注
slot 整数 0-8 物理接口的插槽号 是
port 整数 0-7 物理接口的端口号 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.txif.del
请求 body：
{
"slot":0,
"port":2
}
添加过滤规则
Action: capture.rule.add
请求参数:
名称 类型 范围 含义 必选 备注
ruleid 整数 1-255 过滤规则 ID 是 唯一,不能重复
srcport 整数 1-65535 源端口 否 缺省值:0,表示不检查源端口
dstport 整数 1-65535 目的端口 否 缺省值:0,表示不检查目的端口
l3p 字符串 L3 协议类型,支持 arp、ip 和 ipv6 三种 否 缺省值:空字符串"",表示不检查 L3 协议
l4p 字符串 L4 协议类型,支持 tcp、udp、icmp 和 icmp-v6 四种 否 缺省值:空字符串"",表示不检查 L4 协议
ipv6_addr IPv6 地址 IPv6 地址 否 缺省值:空字符串"",表示不检查 IPv6 地址
srcaddr IPv4 地址 源 IP 地址 否 缺省值:空字符串"",表示不检查源 IP 地址
dstaddr IPv4 地址 目的 IP 地址 否 缺省值:空字符串"",表示不检查目的 IP 地址
srcmac MAC 地址 源 MAC 地址 否 缺省值:空字符串"",表示不检查源 MAC 地址
dstmac MAC 地址 目的 MAC 地址 否 缺省值:空字符串"",表示不检查目的 MAC 地址
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.rule.add
请求 body：
{
"ruleid":1,
"srcport":65535,
"dstport":65535,
"l3p": "ip",
"l4p": "tcp",
"srcaddr":"20.1.1.1",
"dstaddr":"202.1.1.2",
"srcmac":"0050.56ad.11b3",
"dstmac":"0050.56ba.dad3"
}
获取过滤规则列表
Action: capture.rule.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.rule.list
响应参数:
名称 类型 范围 含义
ruleid 整数 1-255 过滤规则 ID
srcport 整数 1-65535 源端口
dstport 整数 1-65535 目的端口
l3p 字符串 L3 协议类型,支持 arp、ip 和 ipv6 三种
l4p 字符串 L4 协议类型,支持 tcp、udp、icmp 和 icmp-v6 三种
ipv6_addr IPv6 地址 IPv6 地址
srcaddr IPv4 地址 源 IP 地址
dstaddr IPv4 地址 目的 IP 地址
srcmac MAC 地址 源 MAC 地址
dstmac MAC 地址 目的 MAC 地址
响应举例：
[{
"ruleid": 1,
"srcport": 0,
"dstport": 0,
"l3p": "ip",
"l4p": "tcp",
"ipv6_addr": "",
"srcaddr": "1.1.1.1",
"dstaddr": "",
"srcmac": "",
"dstmac": ""
}]
删除过滤规则
Action: capture.rule.del
请求参数:
名称 类型 范围 含义 必选 备注
ruleid 整数 1-255 过滤规则 ID 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.rule.del
请求 body：
{"ruleid": 1}
添加抓包文件
Action: capture.file.add
请求参数:
名称 类型 范围 含义 必选 备注
filename 字符串 1-191 抓包文件名称 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.file.add
请求 body：
{"filename":"123"}

    1.添加抓包文件后,会立即开始按照抓包的过滤条件(包含入接口/出接口/规则)进行抓包

2.默认抓包在达到最大抓包时间(300 秒)或者最大文件大小(10M)时会自动停止

获取抓包文件列表
Action: capture.file.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.file.list
响应参数:
名称 类型 范围 含义
filename 字符串 1-191 抓包文件名称
响应举例：
[{"filename":"tm-file"}]
删除抓包文件
Action: capture.file.del
请求参数:
名称 类型 范围 含义 必选 备注
filename 字符串 1-191 抓包文件名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.file.del
请求 body：
{"filename":"tm-file"}
导出抓包文件
Action: capture.file.export
请求参数:
名称 类型 范围 含义 必选 备注
export_file 字符串 1-191 抓包文件名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.file.export
请求 body：
{"export_file":"tm-file"}

    此API会下载一个抓包文件(pcap)的压缩包

管理口抓包
添加管理口过滤规则
Action: capture.mgmt.rule.add
请求参数:
名称 类型 范围 含义 必选 备注
ruleid 整数 1-1 过滤规则 ID 是 唯一,不能重复
srcport 整数 1-65535 源端口 否 缺省值:0,表示不检查源端口
dstport 整数 1-65535 目的端口 否 缺省值:0,表示不检查目的端口
l3p 字符串 L3 协议类型,支持 arp、ip 和 ipv6 三种 否 缺省值:空字符串"",表示不检查 L3 协议
l4p 字符串 L4 协议类型,支持 tcp、udp、icmp 和 icmp-v6 四种 否 缺省值:空字符串"",表示不检查 L4 协议
ipv6_addr IPv6 地址 IPv6 地址 否 缺省值:空字符串"",表示不检查 IPv6 地址
srcaddr IPv4 地址 源 IP 地址 否 缺省值:空字符串"",表示不检查源 IP 地址
dstaddr IPv4 地址 目的 IP 地址 否 缺省值:空字符串"",表示不检查目的 IP 地址
srcmac MAC 地址 源 MAC 地址 否 缺省值:空字符串"",表示不检查源 MAC 地址
dstmac MAC 地址 目的 MAC 地址 否 缺省值:空字符串"",表示不检查目的 MAC 地址
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.mgmt.rule.add
请求 body：
{
"ruleid": 1,
"srcport": 10,
"dstport": 10,
"ipv6_addr": "",
"l3p": "ipv6",
"l4p": "",
"srcaddr": "",
"dstaddr": "",
"srcmac": "",
"dstmac": ""
}
获取管理口过滤规则列表
Action: capture.mgmt.rule.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.mgmt.rule.list
响应参数:
名称 类型 范围 含义
ruleid 整数 1-1 过滤规则 ID
srcport 整数 1-65535 源端口
dstport 整数 1-65535 目的端口
l3p 字符串 L3 协议类型,支持 arp、ip 和 ipv6 三种
l4p 字符串 L4 协议类型,支持 tcp、udp、icmp 和 icmp-v6 三种
ipv6_addr IPv6 地址 IPv6 地址
srcaddr IPv4 地址 源 IP 地址
dstaddr IPv4 地址 目的 IP 地址
srcmac MAC 地址 源 MAC 地址
dstmac MAC 地址 目的 MAC 地址
响应举例：
[{
"ruleid": 1,
"srcport": 0,
"dstport": 0,
"l3p": "ip",
"l4p": "tcp",
"ipv6_addr": "",
"srcaddr": "1.1.1.1",
"dstaddr": "",
"srcmac": "",
"dstmac": ""
}]
删除管理口过滤规则表
Action: capture.mgmt.rule.del
请求参数:
名称 类型 范围 含义 必选 备注
ruleid 整数 1-1 过滤规则 ID 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.mgmt.rule.del
请求 body：
{"ruleid": 1}
添加管理口抓包文件
Action: capture.mgmt.file.add
请求参数:
名称 类型 范围 含义 必选 备注
filename 字符串 长度 1-191 抓包文件名称 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.mgmt.file.add
请求 body：
{"filename":"tm-mgmt"}

    1.添加抓包文件后,会立即开始按照抓包的过滤条件(包含入接口/出接口/规则)进行抓包

2.默认抓包在达到最大抓包时间(300 秒)或者最大文件大小(10M)时会自动停止
获取管理口抓包文件列表
Action: capture.mgmt.file.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.mgmt.file.list
响应参数:
名称 类型 范围 含义
filename 字符串 1-191 抓包文件名称
响应举例：
[{"filename":"tm-mgmt"}]
删除管理口抓包文件
Action: capture.mgmt.file.del
请求参数:
名称 类型 范围 含义 必选 备注
filename 字符串 1-191 抓包文件名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.mgmt.file.del
请求 body：
{"filename":"tm-mgmt"}
导出管理口抓包文件
Action: capture.mgmt.file.export
请求参数:
名称 类型 范围 含义 必选 备注
export_file 字符串 1-191 抓包文件名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=capture.mgmt.file.export
请求 body：
{"export_file":"tm-mgmt"}

    此API会下载一个抓包文件(pcap)的压缩包

镜像
获取镜像配置
Action: system.mirror.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.mirror.get
响应参数:
名称 类型 范围 含义
mirror_iflist 数组 镜像接口数量
slot 整数 0-8 物理接口的插槽号
port 整数 0-7 物理接口的端口号
mirror_filterlist 数组 镜像过滤数量
protocal 整数 0-65535 四层协议
src_ip IPv4 地址 源 IP 地址
src_ip_mask IPv4 地址 源 IP 地址掩码
dst_ip IPv4 地址 目的 IP 地址
dst_ip_mask IPv4 地址 目的 IP 地址掩码
src_port_start 整数 1-65535 源端口开始
src_port_end 整数 1-65535 源端口结束
dst_port_start 整数 1-65535 目的端口开始
dst_port_end 整数 1-65535 目的端口结束
traffic_slot 整数 0-8 镜像输出的物理接口的插槽号
traffic_port 整数 0-7 镜像输出的物理接口的端口号
port_index 整数 0-27 接口下拉列表里面的顺序
traffic_port_index 整数 0-27 镜像输出接口下拉列表里面的顺序
dir 整数 1，2 镜像过滤的方向。1：入流方向。2：出流方向
响应举例：
{
"pool": {
"mirror_iflist": [
{
"slot": 0,
"port": 2,
"port_index": 3,
"dir": 1
},
{
"slot": 0,
"port": 1,
"port_index": 2,
 "dir": 2
}
],
"mirror_filterlist": [
{
"slot": 0,
"port": 0,
"port_index": 1,
"dir": 1,
"protocal": 6,
"src_ip": "1.1.1.1",
"src_ip_mask": "255.0.0.0",
"dst_ip": "3.3.3.3",
"dst_ip_mask": "255.0.0.0",
"src_port_start": 31,
"src_port_end": 32,
"dst_port_start": 33,
"dst_port_end": 34
}
],
"traffic_slot": 0,
"traffic_port": 4,
"traffic_port_index": 5
}
}
更改镜像配置
Action: system.mirror.set
请求参数:
名称 类型 范围 含义 必选 备注
mirror_iflist 数组 镜像接口数量 是
slot 整数 0-8 物理接口的插槽号 是
port 整数 0-7 物理接口的端口号 是
mirror_filterlist 数组 镜像过滤数量 是
protocal 整数 0-65535 四层协议 是
src_ip IPv4 地址 源 IP 地址 是
src_ip_mask IPv4 地址 源 IP 地址掩码 是
dst_ip IPv4 地址 目的 IP 地址 是
dst_ip_mask IPv4 地址 目的 IP 地址掩码 是
src_port_start 整数 1-65535 源端口开始 是
src_port_end 整数 1-65535 源端口结束 是
dst_port_start 整数 1-65535 目的端口开始 是
dst_port_end 整数 1-65535 目的端口结束 是
traffic_slot 整数 0-8 镜像输出的物理接口的插槽号 否
traffic_port 整数 0-7 镜像输出的物理接口的端口号 否
port_index 整数 0-27 接口下拉列表里面的顺序 是
traffic_port_index 整数 0-27 镜像输出接口下拉列表里面的顺序 否
dir 整数 1，2 镜像过滤的方向。1：入流方向。2：出流方向 是
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.mirror.set
请求 body：
{
"pool": {
"mirror_iflist": [
{
"slot": 1,
"port": 2,
"port_index": 3,
"dir": 1
},
{
"slot": 1,
"port": 2,
"port_index": 3,
"dir": 2
}
],
"mirror_filterlist": [
{
"slot": 1,
"port": 3,
"port_index": 4,
"dir": 1,
"protocal": 6,
"src_ip": "2.2.2.21",
"src_ip_mask": "255.255.255.0",
"dst_ip": "6.3.3.3",
"dst_ip_mask": "255.255.255.0",
"src_port_start": 65535,
"src_port_end": 3665,
"dst_port_start": 65535,
"dst_port_end": 6555
}
],
"traffic_slot": 1,
"traffic_port": 1,
"traffic_port_index": 2
}
}
响应参数:
名称 类型 范围 含义
mirror_iflist 数组 镜像接口数量
slot 整数 0-8 物理接口的插槽号
port 整数 0-7 物理接口的端口号
mirror_filterlist 数组 镜像过滤数量
protocal 整数 0-65535 四层协议
src_ip IPv4 地址 源 IP 地址
src_ip_mask IPv4 地址 源 IP 地址掩码
dst_ip IPv4 地址 目的 IP 地址
dst_ip_mask IPv4 地址 目的 IP 地址掩码
src_port_start 整数 1-65535 源端口开始
src_port_end 整数 1-65535 源端口结束
dst_port_start 整数 1-65535 目的端口开始
dst_port_end 整数 1-65535 目的端口结束
traffic_slot 整数 0-8 镜像输出的物理接口的插槽号
traffic_port 整数 0-7 镜像输出的物理接口的端口号
port_index 整数 0-27 接口下拉列表里面的顺序
traffic_port_index 整数 0-27 镜像输出接口下拉列表里面的顺序
dir 整数 1，2 镜像过滤的方向。1：入流方向。2：出流方向

编辑镜像配置
Action: system.mirror.edit
请求参数:
名称 类型 范围 含义 必选 备注
mirror_iflist 数组 镜像接口数量 是
slot 整数 0-8 物理接口的插槽号 是
port 整数 0-7 物理接口的端口号 是
mirror_filterlist 数组 镜像过滤数量 是
protocal 整数 0-65535 四层协议 是
src_ip IPv4 地址 源 IP 地址 是
src_ip_mask IPv4 地址 源 IP 地址掩码 是
dst_ip IPv4 地址 目的 IP 地址 是
dst_ip_mask IPv4 地址 目的 IP 地址掩码 是
src_port_start 整数 1-65535 源端口开始 是
src_port_end 整数 1-65535 源端口结束 是
dst_port_start 整数 1-65535 目的端口开始 是
dst_port_end 整数 1-65535 目的端口结束 是
traffic_slot 整数 0-8 镜像输出的物理接口的插槽号 否
traffic_port 整数 0-7 镜像输出的物理接口的端口号 否
port_index 整数 0-27 接口下拉列表里面的顺序 是
traffic_port_index 整数 0-27 镜像输出接口下拉列表里面的顺序 否
dir 整数 1，2 镜像过滤的方向。1：入流方向。2：出流方向 是
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.mirror.edit
请求 body：
{
"pool": {
"mirror_iflist": [
{
"slot": 0,
"port": 1,
"port_index": 1,
"dir": 1
},
{
"slot": 0,
"port": 2,
"port_index": 3,
"dir": 2
}
],
"mirror_filterlist": [
{
"slot": 0,
"port": 0,
"port_index": 1,
"dir": 1,
"protocal": 65535,
"src_ip": "5.6.7.8",
"src_ip_mask": "255.255.255.0",
"dst_ip": "8.9.9.8",
"dst_ip_mask": "255.255.255.0",
"src_port_start": 1,
"src_port_end": 65535,
"dst_port_start": 2,
"dst_port_end": 65534
}
],
"traffic_slot": 0,
"traffic_port": 3,
"traffic_port_index": 4
}
}

SMTP 配置
获取 SMTP 配置
Action: system.smtp.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.smtp.get
响应参数:
名称 类型 范围 含义
server 字符串 长度 1-63 SMTP 服务器，可以指定 IPv4 地址、IPv6 地址和主机名，长度仅指主机名
port 整数 1-65535 SMTP 服务端口
emailto 字符串 长度 0-640 接收邮件列表，邮件地址之间用逗号隔开，每个邮件地址不超过 63 字节，不超过 10 个邮件
emailfrom 字符串 长度 0-63 发送者邮件地址
auth 整数 0-1 是否需要验证
user 字符串 1-31 用户名
password 字符串 1-31 密码
响应举例：
{
"server" : "202.110.78.20",
"port" : 35,
"emailto" : "pub@horizon.com,wangdong@263.com,ant@bigone.com.cn",
"emailfrom" : "lji@163.com",
"auth" : 1,
"user" : "lji",
"password" : "**\*\***"
}
编辑 SMTP 配置
Action: system.smtp.set
请求参数:
名称 类型 范围 含义 必选 备注
server 字符串 长度 1-63 SMTP 服务器,可以指定 IPv4 地址、IPv6 地址和主机名 否 长度仅指主机名
port 整数 1-65535 SMTP 服务端口 否 默认 25
emailto 字符串 长度 0-640 接收邮件列表，邮件地址之间用逗号隔开，每个邮件地址不超过 63 字节，不超过 10 个邮件 否
emailfrom 字符串 长度 0-63 发送者邮件地址 否
auth 整数 0-1 是否需要验证 否
user 字符串 1-31 用户名 否

password 字符串 1-31 密码 否
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.smtp.set
Body:
{
"server" : "202.110.78.20",
"port" : 35,
"emailto" : "pub@horizon.com,wangdong@263.com,ant@bigone.com.cn",
"emailfrom" : "lji@163.com",
"auth" : 1,
"user" : "lji",
"password" : "12345.com"
}
日志配置
获取业务日志配置
Action: log.config.service.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.config.service.get
响应参数:
名称 类型 范围 含义
level 整数 debugging,information,notification,warning,error,critical,alert,emergency
size 整数 10000-60000 业务日志的最大保留个数。
响应举例：
{
       "level": "debugging",
       "size": 20000
}
编辑业务日志配置
Action: log.config.service.set
请求参数:
名称 类型 范围 含义 必选 备注
level 整数 否 默认 debugging,information,notification,warning,error,critical,alert,emergency,
size 整数 10000-60000 业务日志的最大保留个数 否 默认 10000
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.config.service.set
Body:
{
       "level": "debugging",
       "size": 20000
}
获取审计日志配置
Action: log.config.audit.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.config.audit.get
响应参数:
名称 类型 范围 含义
disable 整数 0-1 禁止打印日志。0：不禁用，1：禁用
Size 整数 1000-30000 审计日志的最大保留个数。默认为 20000
响应举例：
{
    "disable": 0,
    "size": 10000
}
编辑审计日志配置
Action: log.config.audit.set
请求参数:
名称 类型 范围 含义 必选 备注
disable 整数 0-1 禁止打印日志。0：不禁用，1：禁用 否 默认为 0，不禁用
Size 整数 1000-30000 审计日志的最大保留个数。 否 默认 20000
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.config.audit.set
Body:
{
    "disable": 0,
    "size": 20000
}
获取 NAT 日志配置
Action: log.config.nat.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.config.nat.get
响应参数:
名称 类型 范围 含义
disable 整数 0-1 禁止打印日志。0：不禁用，1：禁用 默认为 1
Size 整数 10000-60000 NAT 日志的最大保留个数。默认为 10000
响应举例：
{
    "disable": 0,
    "size": 10000
}

编辑 NAT 日志配置
Action: log.config.nat.set
请求参数:
名称 类型 范围 含义 必选 备注
disable 整数 0-1 禁止打印日志。0：不禁用，1：禁用 否 默认为 1，禁用
Size 整数 10000-60000 NAT 日志的最大保留个数。 否 默认 10000
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.config.nat.set
Body:
{
    "disable": 0,
    "size": 10000
}
获取 DNS 日志配置
Action: log.config.dns.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.config.dns.get
响应参数:
名称 类型 范围 含义
disable 整数 0-1 禁止打印日志。0：不禁用，1：禁用，默认为 1，禁用
Size 整数 10000-60000 DNS 日志的最大保留个数。默认为 10000
响应举例：
{
    "disable": 0,
    "size": 10000
}

编辑 DNS 日志配置
Action: log.config.dns.set
请求参数:
名称 类型 范围 含义 必选 备注
disable 整数 0-1 禁止打印日志。0：不禁用，1：禁用 否 默认为 1，禁用
Size 整数 10000-60000 DNS 日志的最大保留个数。 否 默认 10000
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.config.dns.set
Body:
{
    "disable": 0,
    "size": 10000
}
日志获取
业务日志显示列表
Action：log.service.list
请求参数：
名称 类型 范围 含义 必选 备注
direct 整数 0-3 log 取页方向 否 0:first
1:prev
2:next
3:last
默认 0
index 整数 0-4294967294 日志索引 否 默认 0
limit 整数 1-1000 输出限制 否 默认 30
level 整数 0-7 输出其及以上级别 否 0: emergency
1: alert
2: critical
3: error
4: warning
5: notification
6: information
7: debugging
默认 7
请求举例：
POST http://192.168.70.63/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.service.list
请求 body：
{
"direct": 0,
"index": 0,
"limit": 5,
"level": 7  
 }
响应参数：
名称 类型 范围 含义
item 字符串 1-1024 Log 内容
index 整数 0-4294967294 日志索引
响应举例：
[
       {
              "index": 254,
              "item": "Oct 25 2024 14:48:58 local0.info Horizon/common/ lldp: add neighbor for Ethernet6/0, remote Ethernet2/0 chassis-id c0:33:da:11:7f:54"
       },
       {
              "index": 253,
              "item": "Oct 25 2024 14:48:58 local0.info Horizon /common/ lldp: add neighbor for Ethernet6/0, remote Ethernet1/0 chassis-id c0:33:da:11:7f:54"
       },
       {
              "index": 252,
              "item": "Oct 25 2024 14:48:56 local0.info Horizon /common/ lldp: add neighbor for Ethernet6/0, remote XGigabitEthernet0/0/5 chassis-id 78:cf:2f:b7:cd:50"
       },
       {
              "index": 251,
              "item": "Oct 25 2024 14:48:56 local0.info Horizon /common/ lldp: add neighbor for Ethernet6/0, remote 40GE0/0/4 chassis-id 78:cf:2f:b7:cd:50"
       },
       {
              "index": 250,
              "item": "Oct 25 2024 14:04:46 local0.notice Horizon /common/ platform: admin has opened a web session 6 from 10.0.30.129."
       }
]

审计日志显示列表
Action：log.audit.list
请求参数：
名称 类型 范围 含义 必选 备注
direct 整数 0-3 log 取页方向 否 0:first
1:prev
2:next
3:last
默认 0
index 整数 0-4294967294 日志索引 否 默认 0
limit 整数 1-1000 输出限制 否 默认 30
start_time 整数 0-4294967294 日志产生时间过滤，开始时间 否 时间单位为秒，默认 0
time_range 整数 0-4294967294 日志产生时间过滤，开始时间后持续时间 否 时间单位为秒，0 表示持续到当前，默认 0
user_name 字符串 1-31 操作用户 是 提取该操作用户的操作
请求举例：
POST 　 http://192.168.70.63/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.audit.list
请求 body：
{
"direct": 0,
"index": 0,
"limit": 5,
"start_time": 0,
"time_range": 0,
"user_name": "admin"
}
响应参数：
名称 类型 范围 含义
item 字符串 1-1024 Log 内容
index 整数 0-4294967294 日志索引
响应举例：
[{
"index": 277,
"item": "Sep 29 2024 13:58:43 [@api]: (ADCAPIv2.0) [login] rspbody: {\"authkey\":\"84482cf5609bd6bc37664765937eda\"}"
}, {
"index": 276,
"item": "Sep 29 2024 13:58:43 [*]: User admin opened a web session 31 from 192.168.50.106"
}, {
"index": 275,
"item": "Sep 29 2024 13:58:43 [@api]: (ADCAPIv2.0) [login] reqbody: {\"direct\":0}"
}, {
"index": 274,
"item": "Sep 29 2024 13:56:21 [*]: User admin opened a web session 30 from 192.168.50.106"
}, {
"index": 273,
"item": "Sep 29 202413:56:20 [@api]: (ADCAPIv2.0) [login] username: admin"
}]
NAT 日志显示列表
Action：log.nat.list
请求参数：
名称 类型 范围 含义 必选 备注
direct 整数 0-3 log 取页方向 是 0:first
1:prev
2:next
3:last
默认 0
index 整数 0-4294967294 日志索引 是 默认 0
limit 整数 1-1000 输出限制 是 默认 30
请求举例：
POST http://192.168.70.63/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.nat.list
响应参数：
名称 类型 范围 含义
item 字符串 1-1024 Log 内容
index 整数 0-4294967294 日志索引
DNS 日志显示列表
Action：log.dns.list
请求参数：
名称 类型 范围 含义 必选 备注
direct 整数 0-3 log 取页方向 是 0:first
1:prev
2:next
3:last
默认 0
index 整数 0-4294967294 日志索引 是 默认 0
limit 整数 1-1000 输出限制 是 默认 30
请求举例：
POST http://192.168.70.63/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.dns.list
响应参数：
名称 类型 范围 含义
item 字符串 1-1024 Log 内容
index 整数 0-4294967294 日志索引
业务日志清除
Action：log.service.clear
请求参数：无
请求举例：
GET http://192.168.70.63/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.service.clear
审计日志清除
Action：log.audit.clear
请求参数：无
请求举例：
GET http://192.168.70.63/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.audit.clear
NAT 日志清除
Action：log.nat.clear
请求参数：无
请求举例：
GET http://192.168.70.63/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.nat.clear
DNS 日志清除
Action：log.dns.clear
请求参数：无
请求举例：
GET http://192.168.70.63/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.dns.clear

业务日志下载
Action：log.service.download
请求参数：无
请求举例：
GET http://192.168.70.63/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.service.download
此 API 会下载一个文件

审计日志下载
Action：log.audit.download
请求参数：无
请求举例：
GET http://192.168.70.63/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.audit.download
此 API 会下载一个文件

NAT 日志下载
Action：log.nat.download
请求参数：无
请求举例:
GET http://192.168.70.63/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.nat.download
此 API 会下载一个文件

DNS 日志下载
Action：log.dns.download
请求参数：无
请求举例:
GET http://192.168.70.63/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.dns.download
此 API 会下载一个文件
诊断日志下载
Action：log.coredump.download
请求参数：无
请求举例：
GET http://192.168.70.63/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.coredump.download
此 API 会下载一个文件

系统日志下载
Action：log.system.download
请求参数：无
请求举例：
GET http://192.168.70.63/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.system.download
此 API 会下载一个文件

日志发送
添加日志发送配置
Action: log.syslog.server.add
请求参数:

名称 类型 范围 含义 必选 备注
host 字符串 长度 1-63 syslog 服务器地址，可以使用主机名/IPv4 地址/IPv6 地址 是 长度指主机名
port 整数 1-65535 Syslog 服务器端口 是
log_code 整数 0-1 code 编码开启状态, 0 表示关闭，1 表示开启，默认关闭，开启时，日志包含 code 编码 否
facility 整数 0-7 Syslog 的设施号，默认 0 否
nat_log 整数 0-1 发送 nat 日志开关，0 表示关闭，1 表示开启，默认开启 否
audit_log 整数 0-1 发送审计日志开关，0 表示关闭，1 表示开启，默认开启 否
service_log 整数 0-1 发送业务日志开关，0 表示关闭，1 表示开启，默认开启 否
match_type 整数 0-2 过滤匹配，0：关闭过滤，1：level,event,关键字,模块是或操作，2：level,event,关键字,模块是与操作，默认 0 否
level_filter 整数 0-7 日志级别发送过滤，默认 7 否
event_list 整数数组 0-15 1：接口状态；2：设备重启；3：登陆事件；4：健康检查故障；5：健康检查繁忙；9：虚拟机联动；11：GSLB 日志；12：erule 日志 否
keyword_filter 字符串 1-191 关键字 否
module_filter 字符串 1-191 模块，多个模块之间用逗号隔开 否
keyword_type 字符串 关键字类型，包括，string 字符串类型，regular 正则类型 否

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.syslog.server.add
请求 body：
{
"host": "10.66.30.129",
"port": 514,
"log_code": 0,
"facility": 1,
"nat_log": 1,
"audit_log": 1,
"service_log": 1,
"dns_log": 1,
"match_type": 2,
"level_filter": 7,
"keyword_filter": " up",
"module_filter": "vrrp,slb,network-layer",
"keyword_type": "string"
}
获取日志发送配置列表
Action: log.syslog.server.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.syslog.server.list
响应参数:
名称 类型 范围 含义 必选 备注
host 字符串 长度 1-63 syslog 服务器地址，可以使用主机名/IPv4 地址/IPv6 地址 是 长度指主机名
port 整数 1-65535 Syslog 服务器端口 是
log_code 整数 0-1 code 编码开启状态, 0 表示关闭，1 表示开启，默认关闭，开启时，日志包含 code 编码 否
facility 整数 0-7 Syslog 的设施号，默认 0 否
nat_log 整数 0-1 发送 nat 日志开关，0 表示关闭，1 表示开启，默认开启 否
audit_log 整数 0-1 发送审计日志开关，0 表示关闭，1 表示开启，默认开启 否
service_log 整数 0-1 发送业务日志开关，0 表示关闭，1 表示开启，默认开启 否
match_type 整数 0-2 过滤匹配，0：关闭过滤，1：level,event,关键字,模块是或操作，2：level,event,关键字,模块是与操作，默认 0 否
level_filter 整数 0-7 日志级别发送过滤，默认 7 否
event_list 整数数组 0-15 1：接口状态；2：设备重启；3：登陆事件；4：健康检查故障；5：健康检查繁忙；9：虚拟机联动；11：GSLB 日志；12：erule 日志 否
keyword_filter 字符串 1-191 关键字 否
module_filter 字符串 1-191 模块，多个模块之间用逗号隔开 否
keyword_type 字符串 关键字类型，包括，string 字符串类型，regular 正则类型 否
响应举例：
[  {
          "host": "10.66.30.129",
          "port": 514,
          "log_code": 0,
          "facility": 1,
          "nat_log": 1,
          "audit_log": 1,
          "service_log": 1,
          "dns_log": 1,
          "match_type": 2,
          "level_filter": 7,
          "keyword_filter": " up",
          "module_filter": "vrrp,hc",
          "keyword_type": "string"
       }
]

获取指定日志发送配置
Action: log.syslog.server.get
请求参数:
名称 类型 范围 含义 必选 备注
host 字符串 长度 1-63 syslog 服务器地址，可以使用主机名/IPv4 地址/IPv6 地址 是 长度指主机名
port 整数 1-65535 Syslog 服务器端口 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.syslog.server.get
请求 body：
{
"host" : "10.66.30.129",
"port" : 514
}
响应参数:
名称 类型 范围 含义 必选 备注
host 字符串 长度 1-63 syslog 服务器地址，可以使用主机名/IPv4 地址/IPv6 地址 是 长度指主机名
port 整数 1-65535 Syslog 服务器端口 是
log_code 整数 0-1 code 编码开启状态, 0 表示关闭，1 表示开启，默认关闭，开启时，日志包含 code 编码 否
facility 整数 0-7 Syslog 的设施号，默认 0 否
nat_log 整数 0-1 发送 nat 日志开关，0 表示关闭，1 表示开启，默认开启 否
audit_log 整数 0-1 发送审计日志开关，0 表示关闭，1 表示开启，默认开启 否
service_log 整数 0-1 发送业务日志开关，0 表示关闭，1 表示开启，默认开启 否
match_type 整数 0-2 过滤匹配，0：关闭过滤，1：level,event,关键字,模块是或操作，2：level,event,关键字,模块是与操作，默认 0 否
level_filter 整数 0-7 日志级别发送过滤，默认 7 否
event_list 整数数组 0-15 1：接口状态；2：设备重启；3：登陆事件；4：健康检查故障；5：健康检查繁忙；9：虚拟机联动；11：GSLB 日志；12：erule 日志 否
keyword_filter 字符串 1-191 关键字 否
module_filter 字符串 1-191 模块，多个模块之间用逗号隔开 否
keyword_type 字符串 关键字类型，包括，string 字符串类型，regular 正则类型 否

响应举例：
{
"host": "10.66.30.129",
"port": 514,
"log_code": 0,
"facility": 1,
"nat_log": 1,
"audit_log": 1,
"service_log": 1,
"dns_log": 1,
"match_type": 2,
"level_filter": 7,
"keyword_filter": " up",
"module_filter": "slb,configuration,dns,network-layer",
"keyword_type": "string"
}
编辑日志发送配置
Action: log.syslog.server.edit
请求参数:
名称 类型 范围 含义 必选 备注
host 字符串 长度 1-63 syslog 服务器地址，可以使用主机名/IPv4 地址/IPv6 地址 是 长度指主机名
port 整数 1-65535 Syslog 服务器端口 是
log_code 整数 0-1 code 编码开启状态, 0 表示关闭，1 表示开启，默认关闭，开启时，日志包含 code 编码 否
facility 整数 0-7 Syslog 的设施号，默认 0 否
nat_log 整数 0-1 发送 nat 日志开关，0 表示关闭，1 表示开启，默认开启 否
audit_log 整数 0-1 发送审计日志开关，0 表示关闭，1 表示开启，默认开启 否
service_log 整数 0-1 发送业务日志开关，0 表示关闭，1 表示开启，默认开启 否
match_type 整数 0-2 过滤匹配，0：关闭过滤，1：level,event,关键字,模块是或操作，2：level,event,关键字,模块是与操作，默认 0 否
level_filter 整数 0-7 日志级别发送过滤，默认 7 否
event_list 整数数组 0-15 1：接口状态；2：设备重启；3：登陆事件；4：健康检查故障；5：健康检查繁忙；9：虚拟机联动；11：GSLB 日志；12：erule 日志 否
keyword_filter 字符串 1-191 关键字 否
module_filter 字符串 1-191 模块，多个模块之间用逗号隔开 否
keyword_type 字符串 关键字类型，包括，string 字符串类型，regular 正则类型 否

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.syslog.server.edit
请求 body：
{
"host": "10.66.30.129",
"port": 514,
"log_code": 0,
"facility": 1,
"nat_log": 1,
"audit_log": 1,
"service_log": 1,
"dns_log": 1,
"match_type": 2,
"level_filter": 7,
"keyword_filter": " up",
"module_filter": "slb,configuration,dns,network-layer",
"keyword_type": "string"
}
删除日志发送配置
Action: log.syslog.server.del
请求参数:
名称 类型 范围 含义 必选 备注
host 字符串 长度 1-63 syslog 服务器地址，可以使用主机名/IPv4 地址/IPv6 地址 是 长度指主机名
port 整数 1-65535 Syslog 服务器端口 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.syslog.server.del
请求 body：
{
"host" : "192.168.70.250",
"port" : 514
}
日志告警
获取 Email 日志告警配置
Action: log.alarm.email.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.alarm.email.get
响应参数:
名称 类型 范围 含义
delay_send_buff 整数 长度 32-128 延迟发送触发的 buff 长度
delay_send_time 整数 10-1440 延迟发送触发的时间,单位分钟
send_event 整数数组 0-15 1：接口状态；2：设备重启；3：登陆事件；4：健康检查故障；5：健康检查繁忙；9：虚拟机联动；11：GSLB 日志；12：erule 日志
send_level 整数 -1,0,1,2,5 日志级别发送过滤，-1 表示关闭级别过滤，默认-1
响应举例：
{
"delay_send_buff" : 120,
"delay_send_time" : 110,
"send_event" : [ 2, 4, 5 ],
"send_level" : 5
}
编辑 Email 日志告警配置
Action: log.alarm.email.set
请求参数:
名称 类型 范围 含义 必选 备注
delay_send_buff 整数 长度 16-256 延迟发送触发的 buff 长度 否 默认 50
delay_send_time 整数 10-1440 延迟发送触发的时间,单位分钟 否 默认 10
send_event 整数数组 0-15 1：接口状态；2：设备重启；3：登陆事件；4：健康检查故障；5：健康检查繁忙；9：虚拟机联动；11：GSLB 日志；12：erule 日志 否
send_level 整数 -1,0,1,2,5 日志级别发送过滤，-1 表示关闭级别过滤，默认-1 否
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.alarm.email.set
Body:
{
"delay_send_buff" : 120,
"delay_send_time" : 110,
"send_event" : [ 2, 4, 5 ],
"send_level" : 5
}
获取短信日志告警配置
Action: log.alarm.sms.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.alarm.sms.get
响应参数:
名称 类型 范围 含义
url 字符串 0-1023 发送短信平台
send_event 整数数组 0-15 1：接口状态；2：设备重启；3：登陆事件；4：健康检查故障；5：健康检查繁忙；9：虚拟机联动；
send_level 整数 -1,0,1,2,5 日志级别发送过滤，-1 表示关闭级别过滤，默认-1
响应举例：
{
"send_event" : [ 1, 3 ],
"url" : "h.163.com.cn",
"send_level" : 2
}
编辑短信日志告警配置
Action: log.alarm.sms.set
请求参数:
名称 类型 范围 含义 必选 备注
url 字符串 0-1023 发送短信平台 否
send_event 整数数组 0-15 1：接口状态；2：设备重启；3：登陆事件；4：健康检查故障；5：健康检查繁忙；9：虚拟机联动； 否
send_level 整数 -1,0,1,2,5 日志级别发送过滤，-1 表示关闭级别过滤，默认-1 否
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=log.alarm.sms.set
Body:
{
"send_event" : [ 1, 3 ],
"url" : "h.163.com.cn",
"send_level" : 2
}
高可用性
VRRP 全局配置
获取 VRRP 全局配置
Action: vrrp.global.get
请求参数:无
请求举例：
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.global.get
响应参数:
名称 类型 范围 含义
enabled 整数 0,1 1 表示 VRRP 开启，0 表示关闭
as_model 整数 0,1 1 表示开启 AS_MODE，0 表示关闭
unit_id 整数 0-8 设备 ID，用于区分不同的设备；0 表示关闭
interval 整数 1-255 心跳报文发送间隔,单位 100 毫秒,例如： 10 表示 1 秒
retry 整数 2-200 心跳重试次数,当连续 retry 数量的心跳未接收到时，认为对应设备故障
delay 整数 1-100 失效间隔,当发生接口 UP/DOWN 事件后,延迟 delay 时间之后再改变 vrrp 状态,单位 100 毫秒
cluster_id 整数 0-7 集群 ID，用于集群再分类；0 表示关闭
global_force_offline 整数 0，1 1 表示开启全局（所有分区）强制下线，0 表示关闭
响应举例：
{
"enabled": 1,
"as_mode": 0,
"unit_id": 8,
"cluster_id": 6,
"interval": 166,
"retry": 6,
"delay": 40,
"global_force_offline": 0

}
设置 VRRP 全局配置
Action: vrrp.global.set
请求参数:
名称 类型 范围 含义 必选 备注
enabled 整数 0,1 1 表示 VRRP 开启，0 表示关闭 否 未指定时表示不修改，系统默认值为 0
as_model 整数 0,1 1 表示开启 AS_MODE，0 表示关闭 否 未指定时表示不修改，系统默认值为 0
unit_id 整数 0-8 设备 ID，用于区分不同的设备 否 未指定时表示不修改，系统默认值为 0
interval 整数 1-255 心跳报文发送间隔,单位 100 毫秒,例如： 10 表示 1 秒 否 未指定时表示不修改，系统默认值为 2
retry 整数 2-200 心跳重试次数,当连续 retry 数量的心跳未接收到时，认为对应设备故障 否 未指定时表示不修改，系统默认值为 5
delay 整数 1-100 失效间隔,当发生接口 UP/DOWN 事件后,延迟 delay 时间之后再改变 vrrp 状态,单位 100 毫秒 否 未指定时表示不修改，系统默认值为 30
cluster_id 整数 0-7 集群 ID，用于集群再分类；0 表示关闭 否 未指定时表示不修改，系统默认值为 0
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.global.set
请求 Body:
{
"enabled": 1,
"as_mode": 0,
"unit_id": 8,
"cluster_id": 6,
"interval": 166,
"retry": 6,
"delay": 40
}
1.as_mode 模式下只能有 group_id 0
2.unit_id 为 0 时不能开启 VRRP
3.global_force_offline 只能在全局中获取，不能在全局中设置；可以在强制切换中设置
VRRP 组
添加 VRRP 组
Action: vrrp.group.add
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是 缺省值：0
priority 整数 1-200 优先级,优先级高的优先 否 缺省值：150
preempt_th 整数 0-100 抢占阈值 否 缺省值：0
preempt_dis 整数 0,1 1 表示禁止抢占，0 表示允许抢占 否 缺省值：0
priority_threshold 整数 1-200 设置按序列切换的阈值优先级 否 缺省值：140
failback_first_device 整数 0,1 0 表示序列切换时，即使序列优先的设备优先级恢复了也是按照序列下一个顺序成员切换；1 表示序列靠前的设备优先级恢复，切换时会切换到有效序列第一的设备 否 缺省值：0
order_list 字符串 1-8 的整数列表 配置切换序列，整数列表的顺序就是相应 unit ID 设备的切换顺序 否 缺省为优先级切换
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.group.add
请求 body：
{
"group_id": 1,
"priority": 200,
"preempt_th": 0,
"preempt_dis": 0,
"manually_standby": 0,
"priority_threshold": 140,
"failback_first_device": 0,
"order_list": "1 2 3 4"
}
获取 VRRP 组列表
Action: vrrp.group.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.group.list
响应参数:
名称 类型 范围 含义
group_id 整数 0-8 组序号
priority 整数 1-200 优先级
preempt_th 整数 0-100 抢占阈值
preempt_dis 整数 0,1 1 表示禁止抢占，0 表示允许抢占
manually_standby 整数 0,1 1 表示处于强制备机状态,0 表示不处于强制备机状态（新版本已作废）
force_offline 整数 0,1 1 表示处于强制下线（备机）状态,0 表示不处于强制下线（备机）状态
priority_threshold 整数 1-200 设置按序列切换的阈值优先级
failback_first_device 整数 0,1 0 表示序列切换时，即使序列优先的设备优先级恢复了也是按照序列下一个顺序成员切换；1 表示序列靠前的设备优先级恢复，切换时会切换到有效序列第一的设备
order_list 字符串 1-8 的整数列表 配置切换序列，整数列表的顺序就是相应 unit ID 设备的切换顺序
响应举例：
[
    {
        "group_id": 0,
        "priority": 140,
        "preempt_th": 10,
        "preempt_dis": 0,
        "manually_standby": 0,
"force_offline": 0,
        "priority_threshold": 140,
        "failback_first_device": 0,
        "order_list": ""
    },
    {
        "group_id": 1,
        "priority": 200,
        "preempt_th": 0,
        "preempt_dis": 0,
        "manually_standby": 0,
"force_offline": 0,
        "priority_threshold": 140,
        "failback_first_device": 0,
        "order_list": "1 2 3 4"
    },
    {
        "group_id": 2,
        "priority": 150,
        "preempt_th": 0,
        "preempt_dis": 0,
        "manually_standby": 0,
"force_offline": 0,
        "priority_threshold": 140,
        "failback_first_device": 0,
        "order_list": "2 3 4 1 8 7 6 5"
    },
    {
        "group_id": 3,
        "priority": 160,
        "preempt_th": 0,
        "preempt_dis": 0,
        "manually_standby": 0,
"force_offline": 0,
        "priority_threshold": 140,
        "failback_first_device": 0,
        "order_list": "3 4 1 2"
    },
    {
        "group_id": 4,
        "priority": 150,
        "preempt_th": 0,
        "preempt_dis": 0,
        "manually_standby": 0,
"force_offline": 0,
        "priority_threshold": 140,
        "failback_first_device": 0,
        "order_list": "4 3 2 1"
    },
    {
        "group_id": 5,
        "priority": 150,
        "preempt_th": 20,
        "preempt_dis": 0,
        "manually_standby": 0,
"force_offline": 0,
        "priority_threshold": 140,
        "failback_first_device": 0,
        "order_list": ""
    },
    {
        "group_id": 6,
        "priority": 175,
        "preempt_th": 20,
        "preempt_dis": 0,
        "manually_standby": 0,
"force_offline": 0,
        "priority_threshold": 140,
        "failback_first_device": 0,
        "order_list": ""
    },
    {
        "group_id": 7,
        "priority": 180,
        "preempt_th": 20,
        "preempt_dis": 0,
        "manually_standby": 0,
"force_offline": 0,
        "priority_threshold": 140,
        "failback_first_device": 0,
        "order_list": ""
    },
    {
        "group_id": 8,
        "priority": 150,
        "preempt_th": 20,
        "preempt_dis": 0,
        "manually_standby": 0,
"force_offline": 0,
        "priority_threshold": 140,
        "failback_first_device": 0,
        "order_list": ""
    }
]
获取指定 VRRP 组
Action: vrrp.group.get
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.group.get
请求 body：
{
"group_id":0
}
响应参数:
名称 类型 范围 含义
group_id 整数 0-8 组序号
priority 整数 1-200 优先级
preempt_th 整数 0-100 抢占阈值
preempt_dis 整数 0,1 1 表示禁止抢占，0 表示允许抢占
manually_standby 整数 0,1 1 表示处于强制备机状态,0 表示不处于强制备机状态（新版本已作废）
force_offline 整数 0,1 1 表示处于强制下线（备机）状态,0 表示不处于强制下线（备机）状态
priority_threshold 整数 1-200 设置按序列切换的阈值优先级
failback_first_device 整数 0,1 0 表示序列切换时，即使序列优先的设备优先级恢复了也是按照序列下一个顺序成员切换；1 表示序列靠前的设备优先级恢复，切换时会切换到有效序列第一的设备
order_list 字符串 1-8 的整数列表 配置切换序列，整数列表的顺序就是相应 unit ID 设备的切换顺序
响应举例：
{
"group_id": 0,
"priority": 200,
"preempt_th": 0,
"preempt_dis": 0,
"manually_standby": 0,
"force_offline": 0,
"priority_threshold": 140,
"failback_first_device": 0,
"order_list": "1 2 3 4"
}
1.manually_standby 与 force_offline 为相同参数，新版本中 manually_standby 已作废
2.force_offline 可以在 group 中查看，但是配置需要在强制下线的请求中进行

编辑指定 VRRP 组
Action: vrrp.group.edit
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
priority 整数 1-200 优先级 否 缺省值：不修改
preempt_th 整数 0-100 抢占阈值 否 缺省值：不修改
preempt_dis 整数 0,1 1 表示禁止抢占，0 表示允许抢占 否 缺省值：不修改
priority_threshold 整数 1-200 设置按序列切换的阈值优先级 否 缺省值：140
failback_first_device 整数 0,1 0 表示序列切换时，即使序列优先的设备优先级恢复了也是按照序列下一个顺序成员切换；1 表示序列靠前的设备优先级恢复，切换时会切换到有效序列第一的设备 否 缺省值：0
order_list 字符串 1-8 的整数列表 配置切换序列，整数列表的顺序就是相应 unit ID 设备的切换顺序 否 缺省为优先级切换
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.group.edit
请求 body：
{
"group_id":2,
"priority":120
}
获取 VRRP 组状态列表
Action: vrrp.group.stats
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.group.stats
响应参数:
名称 类型 范围 含义
group_id 整数 0-8 组序号
unit_id 整数 0-8 设备 ID
priority 整数 1-200 配置优先级
priority_cur 整数 1-200 实际优先级
state 整数 0,1,2 1 表示主,0 表示备,2 表示强制备
peer_list 数组 由多个 PEER 结构组成的数组,表示 peer 的信息和状态
PEER 结构参数:
名称 类型 范围 含义
state 整数 0,1,2 表示 peer 的主备状态,1 表示主,0 表示备,2 表示强制备
priority_cur 整数 1-200 表示 peer 的当前优先级
unit_id 整数 1-8 表示 peer 的设备 ID

响应举例：
[{
"group_id":0,
"unit_id":1,
"priority":150,
"priority_cur":150,
"state":0,
"peer_list":[{
"state":1,
"priority_cur":50,
"unit_id":2
}]
},{
"group_id":1,
"unit_id":1,
"priority":100,
"priority_cur":100
"state":1,
"peer_list":[{
"state":0,
"priority_cur":150,
"unit_id":2
}]
}]
删除指定 VRRP 组
Action: vrrp.group.del
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 1-8 组序号 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.group.del
请求 body：
{
"group_id":1
}
group_id 0 不能删除
VRRP 心跳接口
添加以太网接口作为心跳接口
Action: vrrp.heart_eth.add
请求参数:
名称 类型 范围 含义 必选 备注
slot 整数 0-8 以太网接口插槽号 是 ETH0/1 对应 slot 为 0
port 整数 0-7 以太网接口端口号 是 ETH0/1 对应 port 为 1
vlan_id 整数 0-4094 VLAN ID 是 默认 0 表示不带 vlan tag
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.heart_eth.add
请求 body：
{
"slot":0,
"port":1,
"vlan_id":1
}
获取以太网心跳口配置列表
Action: vrrp.heart_eth.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.heart_eth.list
响应参数:
名称 类型 范围 含义
slot 整数 0-8 以太网接口插槽号，ETH0/1 对应 slot 为 0
port 整数 0-7 以太网接口端口号，ETH0/1 对应 port 为 1
vlan_id 整数 0-4094 VLAN ID
响应举例：
[{
"slot":0,
"port":1,
"vlan_id":1
}]
获取以太网心跳口统计信息列表
Action: vrrp.heart_eth.statis
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.heart_eth.statis
响应参数:
名称 类型 范围 含义
slot 整数 0-8 以太网接口插槽号
port 整数 0-7 以太网接口端口号
vlan_id 整数 0-4094 VLAN ID；默认 0 表示不带 vlan tag 标签
packets_rcvd 整数 >=0 接收的报文数
packets_send 整数 >=0 发送的报文数
响应举例：
[{
"slot":0,
"port":1,
"vlan_id":1,
"packets_rcvd":802,
"packets_send":805

}]
删除以太网心跳接口
Action: vrrp.heart_eth.del
请求参数:
名称 类型 范围 含义 必选 备注
slot 整数 0-8 以太网接口插槽号 是 ETH0/1 对应 slot 为 0
port 整数 0-7 以太网接口端口号 是 ETH0/1 对应 port 为 1
vlan_id 整数 0-4094 VLAN ID 是 默认 0 表示不带 vlan tag
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.heart_eth.del
请求 body：
{
"slot":0,
"port":1,
"vlan_id":1
}
编辑以太网心跳接口
Action: vrrp.heart_eth.edit
请求参数:
名称 类型 范围 含义 必选 备注
slot 整数 0-8 以太网接口插槽号 是 ETH0/1 对应 slot 为 0
port 整数 0-7 以太网接口端口号 是 ETH0/1 对应 port 为 1
vlan_id 整数 0-4094 VLAN ID 是 仅有 vlan_id 可编辑
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.heart_eth.edit
请求 body：
{
"slot":0,
"port":1,
"vlan_id":1
}
添加汇聚接口作为心跳接口
Action: vrrp.heart_trunk.add
请求参数:
名称 类型 范围 含义 必选 备注
trunk_id 整数 1-8 汇聚口端口号 是
vlan_id 整数 0-4094 VLAN ID 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.heart_trunk.add
请求 body：
{
"trunk_id":1,
"vlan_id":1
}
获取汇聚心跳口配置列表
Action: vrrp.heart_trunk.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.heart_trunk.list
响应参数:
名称 类型 范围 含义
trunk_id 整数 1-8 汇聚口端口号
vlan_id 整数 0-4094 VLAN ID
响应举例：
[{
"trunk_id":1,
"vlan_id":1
}]
获取汇聚心跳口统计信息列表
Action: vrrp.heart_trunk.statis
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.heart_trunk.statis
响应参数:
名称 类型 范围 含义
trunk_id 整数 1-8 汇聚口端口号
vlan_id 整数 0-4094 VLAN ID
packets_rcvd 整数 >=0 接收的报文数
packets_send 整数 >=0 发送的报文数
响应举例：
[
{
"trunk_id":1,
"vlan_id":1,
"packets_rcvd":802,
"packets_send":805

}
]
删除汇聚心跳接口
Action: vrrp.heart_trunk.del
请求参数:
名称 类型 范围 含义 必选 备注
trunk_id 整数 1-8 汇聚口端口号 是
vlan_id 整数 0-4094 VLAN ID 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.heart_trunk.del
请求 body：
{
"trunk_id":1,
"vlan_id":1
}
编辑汇聚心跳接口
Action: vrrp.heart_trunk.edit
请求参数:
名称 类型 范围 含义 必选 备注
trunk_id 整数 1-8 汇聚口端口号 是
vlan_id 整数 0-4094 VLAN ID 是 仅 vlan_id 可编辑
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.heart_trunk.edit
请求 body：
{
"trunk_id":1,
"vlan_id":1
}
获取所有心跳口配置列表
Action: vrrp.heart_all.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.heart_all.list
响应参数:
名称 类型 范围 含义
slot 整数 0-8 以太网接口插槽号
port 整数 0-7 以太网接口端口号
trunk_id 整数 1-8 汇聚口端口号
vlan_id 整数 0-4094 VLAN ID
响应举例：
[
{
"slot":0,
"port":1,
"vlan_id":1
},
{
"trunk_id":1,
"vlan_id":1
}
]
获取所有心跳口统计信息列表
Action: vrrp.heart_all.statis
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.heart_all.statis
响应参数:
名称 类型 范围 含义
slot 整数 0-8 以太网接口插槽号
port 整数 0-7 以太网接口端口号
trunk_id 整数 1-8 汇聚口端口号
vlan_id 整数 0-4094 VLAN ID
packets_rcvd 整数 >=0 接收的报文数
packets_send 整数 >=0 发送的报文数
响应举例：
[{
"slot":0,
"port":1,
"vlan_id":1,
"packets_rcvd":802,
"packets_send":805

},
{
"trunk_id":1,
"vlan_id":1,
"packets_rcvd":803,
"packets_send":806

}
]
VRRP 浮动地址
添加 VRRP 浮动地址
Action: vrrp.floating_ip.add
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
floating_ip IPv4/IPv6 地址 浮动 IP 地址,支持 IPv4 地址和 IPv6 地址 是 添加浮动 IP 时 group 必须存在
请求举例：

POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.floating_ip.add
举例 1:添加 IPv4 浮动 IP
请求 body1：
{
"group_id":0,
"floating_ip":"1.1.1.1"
}
举例 2：添加 IPv6 浮动 IP
请求 body2：

{
"group_id":0,
"floating_ip":"2000::1"
}

获取 VRRP 浮动地址列表
Action: vrrp.floating_ip.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.floating_ip.list
响应参数:
名称 类型 范围 含义
group_id 整数 0-8 组序号
floating_ip IPv4/IPv6 地址 浮动 IP 地址
响应举例：
[{
"group_id":0,
"floating_ip":"1.1.1.1"
},{
"group_id":0,
"floating_ip":"2000::1"
}]
删除 VRRP 浮动地址
Action: vrrp.floating_ip.del
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
floating_ip IPv4/IPv6 地址 浮动 IP 地址,支持 IPv4 地址和 IPv6 地址 是
请求举例：

POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.floating_ip.del
举例 1:删除 IPv4 浮动 IP
请求 body1：
{
"group_id":0,
"floating_ip":"1.1.1.1"
}
举例 2：删除 IPv6 浮动 IP
请求 body2：

{
"group_id":0,
"floating_ip":"2000::1"
}
VRRP 强制切换
获取 VRRP 强制备机信息
Action: vrrp.manually_standby.get
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.manually_standby.get
响应参数:
名称 类型 范围 含义
group_id 整数 0-8 组序号
priority 整数 1-200 优先级
preempt_th 整数 0-100 抢占阈值
preempt_dis 整数 0,1 1 表示禁止抢占，0 表示允许抢占
manually_standby 整数 0,1 1 表示处于强制备机状态,0 表示不处于强制备机状态
响应举例：
[{
"group_id":0,
"priority":150,
"preempt_th":0,
"preempt_dis":0,
"manually_standby":0
},{
"group_id":2,
"priority":150,
"preempt_th":0,
"preempt_dis":0,
"manually_standby":0
}]
设置 VRRP 强制备机
Action: vrrp.manually_standby.set
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 否 未指定该参数或者参数无效时表示所有组
manually_standby 整数 0,1 1 表示设置强制备机状态,0 表示退出强制备机状态 否 缺省值:1
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.manually_standby.set
举例 1: 设置所有组为强制备机:
{"manually_standby":1}
举例 2: 设置 group 2 为强制备机:
{"group_id":2,"manually_standby":1}
举例 3: 取消 group3 强制备机设置
{"group_id":3,"manually_standby":0}
举例 4: 取消所有组强制备机设置
{"manually_standby":0}
新的版本强制备机的命令已经替换为强制下线，为兼容性暂时保留该命令。
获取 VRRP 强制下线信息
Action: vrrp.force_offline.get
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.force_offline.get
响应参数:
名称 类型 范围 含义
group_id 整数 0-8 组序号
priority 整数 1-200 优先级
preempt_th 整数 0-100 抢占阈值
preempt_dis 整数 0,1 1 表示禁止抢占，0 表示允许抢占
force_offline 整数 0,1 1 表示处于强制下线状态,0 表示不处于强制下线状态
响应举例：
[{
"group_id":0,
"priority":150,
"preempt_th":0,
"preempt_dis":0,
"force_offline":0
},{
"group_id":2,
"priority":150,
"preempt_th":0,
"preempt_dis":0,
"force_offline":0
}]
设置 VRRP 强制下线
Action: vrrp.force_offline.set
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 否 未指定该参数时表示：
当前分区下的所有组
force_offline 整数 0,1 1 表示开启强制下线,0 表示禁用强制下线 否 缺省值:1
all_partitions 整数 0,1 1 表示所有分区,0 表示当前分区 否 缺省值:0
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.force_offline.set
举例 1: 设置所有组为强制下线:
空 或者 {"force_offline":1}
举例 2: 设置 group 2 为强制下线:
{"group_id":2,"force_offline":1}
举例 3: 取消 group3 强制下线设置
{"group_id ":3,"force_offline":0}
举例 4: 开启整机强制下线设置
{"force_offline":1,"all_partitions":1}

    所有分区强制下线和当前分区强制下线为两条命令，在同时配置两条命令后需要一并取消。

设置 VRRP 主动升主
Action: vrrp.manually_active.set
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
unit_id 整数 1-8 设备 ID 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.manually_active.set
请求 body：
{
"group_id":2,
"unit_id":2
}
设置 VRRP 主动降备
Action: vrrp.manually_inactive.set
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 否 缺失值:-1 表示所有组
unit_id 整数 1-8 设备 ID 是
all_partitions 整数 0,1 1 表示应用到所有分区,0 表示不应用到所有分区 否 缺省值:0,当 group_id 存在时，此值无效。
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.manually_active.set
请求 body：
{
"group_id":2,
"unit_id":2
}
主动升主、主动降备应用在 VRRP 配置阈值或者 order_list 的情况下；其他模式下切换不生效。

VRRP 网关监控
添加 VRRP 网关监控条件
Action: vrrp.track.gateway.add
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
priority 整数 1-200 代价值,检查失败时减少的优先级 是
ip IPv4/IPv6 地址 要监控的网关地址 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.gateway.add
请求 body：
{
"group_id":2,
"priority":50,
"ip": "10.0.0.1"
}
添加网关监控条件时,group 必须存在

获取 VRRP 网关监控条件列表
Action: vrrp.track.gateway.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.gateway.list
响应参数:
名称 类型 范围 含义
group_id 整数 0-8 组序号
priority 整数 1-200 代价值,检查失败时减少的优先级
ip IPv4/IPv6 地址 要监控的网关地址
响应举例：
[{
"group_id":2,
"priority":50,
"ip":"10.0.0.1"
}]
编辑 VRRP 网关监控条件
Action: vrrp.track.gateway.edit
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
priority 整数 1-200 代价值,检查失败时减少的优先级 是 可编辑项
ip IPv4/IPv6 地址 要监控的网关地址 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.gateway.edit
请求 body：
{
"group_id":2,
"priority":120,
"ip":"10.0.0.1"
}

删除 VRRP 网关监控条件
Action: vrrp.track.gateway.del
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
priority 整数 1-200 代价值,检查失败时减少的优先级 否 删除时不检查
ip IPv4/IPv6 地址 要监控的网关地址 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.gateway.del
请求 body：
{
"group_id":2,
"ip":"10.0.0.1"
}
VRRP 路由监控
添加 VRRP 路由监控条件
Action: vrrp.track.route.add
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
priority 整数 1-200 代价值,检查失败时减少的优先级 是
ip IPv4/IPv6 地址 要监控的路由地址 是
netmask IPv4 掩码/IPv6 前缀 要监控的 IPv4 路由掩码或 IPv6 前缀（XXX.XXX.XXX.XXX/1-128） 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.route.add
请求 body：
{
"group_id":2,
"priority":50,
"ip":"10.0.0.0",
"netmask":"255.255.255.0"
}
添加路由监控条件时,group 必须存在

获取 VRRP 路由监控条件列表
Action: vrrp.track.route.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.route.list
响应参数:
名称 类型 范围 含义
group_id 整数 0-8 组序号
priority 整数 1-200 代价值,检查失败时减少的优先级
ip IPv4/IPv6 地址 要监控的路由地址
netmask IPv4 掩码/IPv6 前缀 要监控的 IPv4 路由掩码或 IPv6 前缀（XXX.XXX.XXX.XXX/1-128）
响应举例：
[{
"group_id":2,
"priority":50,
"ip":"10.0.0.0",
"netmask":"255.255.255.0"
}]
编辑 VRRP 路由监控条件
Action: vrrp.track.route.edit
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
priority 整数 1-200 代价值,检查失败时减少的优先级 是 可编辑项
ip IPv4/IPv6 地址 要监控的路由地址 是
netmask IPv4 掩码/IPv6 前缀 要监控的 IPv4 路由掩码或 IPv6 前缀（XXX.XXX.XXX.XXX/1-128） 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.route.edit
请求 body：
{
"group_id":2,
"priority":120,
"ip":"10.0.0.0",
"netmask":"255.255.255.0"
}

删除 VRRP 路由监控条件
Action: vrrp.track.route.del
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
priority 整数 1-200 代价值,检查失败时减少的优先级 否 删除时不检查
ip IPv4/IPv6 地址 要监控的路由地址 是
netmask IPv4 掩码/IPv6 前缀 要监控的 IPv4 路由掩码或 IPv6 前缀（XXX.XXX.XXX.XXX/1-128） 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.route.del
请求 body：
{
"group_id":2,
"ip":"10.0.0.0",
"netmask":"255.255.255.0"
}
VRRP 服务池监控
添加 VRRP 服务池监控条件
Action: vrrp.track.pool.add
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
pool_name 字符串 长度 1-191 服务池名称 是
min_up_members 整数 1-1024 最少成员 up 个数 是 服务池存在且成员个数大于等于最小个数时该条件生效，在 up 成员小于 min_up_members 值时减去设置优先级
priority 整数 1-200 代价值,检查失败时减少的优先级 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.pool.add
请求 body：
{
"group_id": 0,
"pool_name": "vrrp-pool",
"min_up_members": 1024,
"priority": 11
}

获取 VRRP 服务池监控条件列表
Action: vrrp.track.pool.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.pool.list
响应参数:
名称 类型 范围 含义
group_id 整数 0-8 组序号
pool_name 字符串 长度 1-191 服务池名称
min_up_members 整数 1-1024 最少成员 up 个数
priority 整数 1-200 代价值,检查失败时减少的优先级
响应举例：
[
    {
        "group_id": 0,
        "pool_name": "vrrp-pool",
        "min_up_members": 1024,
        "priority": 11
    }
]
编辑 VRRP 服务池监控条件
Action: vrrp.track.pool.edit
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
pool_name 字符串 长度 1-191 服务池名称 是
min_up_members 整数 1-1024 最少成员 up 个数 是 服务池存在且成员个数大于等于最小个数时该条件生效，在 up 成员小于 min_up_members 值时减去设置优先级
priority 整数 1-200 代价值,检查失败时减少的优先级 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.pool.edit
请求 body：
{
"group_id": 0,
"pool_name": "vrrp-pool",
"min_up_members": 1024,
"priority": 12
}

删除 VRRP 服务池监控条件
Action: vrrp.track.pool.del
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
pool_name 字符串 长度 1-191 服务池名称 是
min_up_members 整数 1-1024 最少成员 up 个数 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.pool.del
请求 body：
{
"group_id": 0,
"pool_name": "vrrp-pool",
"min_up_members": 11
}

VRRP 以太网接口监控
添加 VRRP 以太网接口监控条件
Action: vrrp.track.ethernet.add
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
priority 整数 1-200 代价值,检查失败时减少的优先级 是
slot 整数 0-28 要监控的以太网接口插槽号 是
port 整数 0-28 要监控的以太网接口端口号 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.ethernet.add
请求 body：
{
"group_id":2,
"priority":50,
"slot":0,
"port":1
}
添加以太网接口监控条件时,group 必须存在

获取 VRRP 以太网接口监控条件列表
Action: vrrp.track.ethernet.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.ethernet.list
响应参数:
名称 类型 范围 含义
group_id 整数 0-8 组序号
priority 整数 1-200 代价值,检查失败时减少的优先级
slot 整数 0-28 要监控的以太网接口插槽号
port 整数 0-28 要监控的以太网接口端口号
响应举例：
[{
"group_id":2,
"priority":50,
"slot":0,
"port":1
}]
编辑 VRRP 以太网接口监控条件
Action: vrrp.track.ethernet.edit
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
priority 整数 1-200 代价值,检查失败时减少的优先级 是 可编辑项
slot 整数 0-28 要监控的以太网接口插槽号 是
port 整数 0-28 要监控的以太网接口端口号 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.ethernet.edit
请求 body：
{
"group_id":2,
"priority":120,
"slot":0,
"port":1
}

删除 VRRP 以太网接口监控条件
Action: vrrp.track.ethernet.del
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
priority 整数 1-200 代价值,检查失败时减少的优先级 否 删除时不检查
slot 整数 0-28 要监控的以太网接口插槽号 是
port 整数 0-28 要监控的以太网接口端口号 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.ethernet.del
请求 body：
{
"group_id":2,
"slot":0,
"port":1
}
VRRP 汇聚接口监控
添加 VRRP 汇聚接口监控条件
Action: vrrp.track.trunk.add
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
priority 整数 1-200 代价值,汇聚口检查失败时减少的优先级 是
trunk_id 整数 1-8 汇聚接口端口号 是
member_priority 整数 0-200 成员端口代价值,汇聚子接口失效时的代价值 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.trunk.add
请求 body：
{
"group_id":2,
"priority":100,
"trunk_id":1,
"member_priority":50
}
添加汇聚接口监控条件时,group 必须存在

获取 VRRP 汇聚接口监控条件列表
Action: vrrp.track.trunk.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.trunk.list
响应参数:
名称 类型 范围 含义
group_id 整数 0-8 组序号
priority 整数 1-200 代价值,汇聚口检查失败时减少的优先级
trunk_id 整数 1-8 汇聚接口端口号
member_priority 整数 0-200 成员端口代价值,汇聚子接口失效时的代价值
响应举例：
[{
"group_id":2,
"priority":100,
"trunk_id":1,
"member_priority":50
}]
编辑 VRRP 汇聚接口监控条件
Action: vrrp.track.trunk.edit
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
priority 整数 1-200 代价值,汇聚口检查失败时减少的优先级 是
trunk_id 整数 1-8 汇聚接口端口号 是
member_priority 整数 0-200 成员端口代价值,汇聚子接口失效时的代价值 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.trunk.edit
请求 body：
{
"group_id":2,
"priority":100,
"trunk_id":1,
"member_priority":50
}

删除 VRRP 汇聚接口监控条件
Action: vrrp.track.trunk.del
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
priority 整数 1-200 代价值,汇聚口检查失败时减少的优先级 否 删除时不检查
trunk_id 整数 1-8 汇聚接口端口号 是
member_priority 整数 0-200 成员端口代价值,汇聚子接口失效时的代价值 否 删除时不检查
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.trunk.del
请求 body：
{
"group_id":2,
"trunk_id":1
}
VRRP 虚拟接口监控
添加 VRRP 虚拟接口监控条件
Action: vrrp.track.vlan.add
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
priority 整数 1-200 代价值,虚拟接口检查失败时减少的优先级 是
vlan_id 整数 2-4094 VLAN 接口端口号 是
timeout 整数 2-600 失效判定的时长 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.vlan.add
请求 body：
{
"group_id":2,
"priority":100,
"vlan_id":2,
"timeout":50
}
添加虚拟接口监控条件时,group 必须存在
添加虚拟接口监控条件时,虚拟接口必须有 IP 地址

获取 VRRP 虚拟接口监控条件列表
Action: vrrp.track.vlan.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.vlan.list
响应参数:
名称 类型 范围 含义
group_id 整数 0-8 组序号
priority 整数 1-200 代价值,虚拟接口检查失败时减少的优先级
vlan_id 整数 2-4094 VLAN 接口端口号
timeout 整数 2-600 失效判定的时长
响应举例：
[{
"group_id":2,
"priority":100,
"vlan_id":2,
"timeout":50
}]
编辑 VRRP 虚拟接口监控条件
Action: vrrp.track.vlan.edit
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
priority 整数 1-200 代价值,虚拟接口检查失败时减少的优先级 是
vlan_id 整数 2-4094 VLAN 接口端口号 是
timeout 整数 2-600 失效判定的时长 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.vlan.edit
请求 body：
{
"group_id":2,
"priority":100,
"vlan_id":2,
"timeout":50
}

删除 VRRP 虚拟接口监控条件
Action: vrrp.track.vlan.del
请求参数:
名称 类型 范围 含义 必选 备注
group_id 整数 0-8 组序号 是
priority 整数 1-200 代价值,虚拟接口检查失败时减少的优先级 否 删除时不检查
vlan_id 整数 2-4094 VLAN 接口端口号 是
timeout 整数 2-600 失效判定的时长 是 删除时不检查
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.track.vlan.del
请求 body：
{
"group_id":2,
"vlan_id":2,
"timeout":10
}
VRRP 配置同步对端
获取 VRRP 配置同步对端列表
Action: vrrp.cfgsync.peer.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.cfgsync.peer.list
响应参数:
名称 类型 范围 含义
name 字符串 长度 1-63 配置同步对端名称
ip IPv4/v6 地址 配置同步对端 ip 地址
port 整数 1-65535 配置同步对端 ssh 端口号
user 字符串 长度 1-31 配置同步对端用户名
save 整数 0,1 1 表示同步时自动保存配置，0 表示不保存
status 字符串 "Successed",
"None",
"Syncing",
"Failed",
"Itself" "Successed"表示同步成功,
"None"表示初始状态,
"Syncing"表示该同步对端同步中,
"Failed"表示该同步对端同步失败,
"Itself"表示该同步对端就是自己
role 字符串 "Itself"，
"Other" "Itself"表示该同步对端就是自己，
"Other"与 Itself 相对，表示对端
响应举例：
[{
"name":"peer1",
"ip":"1.1.1.1",
"port":22,
"user":"user1",
"status":"None",
"save":0,
"role": "Other"
}]
添加 VRRP 配置同步对端
Action: vrrp.cfgsync.peer.add
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-63 配置同步对端名称 是 唯一
ip IPv4/v6 地址 配置同步对端 ip 地址 是
port 整数 1-65535 配置同步对端 ssh 端口号 是
user 字符串 长度 1-31 配置同步对端用户名 是
password 字符串 长度 1-63 配置同步对端密码 是
save 整数 0,1 1 表示同步时自动保存配置，0 表示不保存 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.cfgsync.peer.add
请求 body：
{
"name":"peer1",
"ip":"1.1.1.1",
"port":22,
"user":"admin",
"password":"admin",
"password":"user1_password",
"save":0
}
获取指定 VRRP 配置同步对端
Action: vrrp.cfgsync.peer.get
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-63 配置同步对端名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.cfgsync.peer.get
请求 body：
{"name":"peer1"}
响应参数:
名称 类型 范围 含义
name 字符串 长度 1-63 配置同步对端名称
ip IPv4/v6 地址 配置同步对端 ip 地址
port 整数 1-65535 配置同步对端 ssh 端口号
user 字符串 长度 1-31 配置同步对端用户名
save 整数 0,1 1 表示同步时自动保存配置，0 表示不保存
status 字符串 "Successed",
"None",
"Syncing",
"Failed",
"Itself" "Successed"表示同步成功成功,
"None"表示初始状态,
"Syncing"表示该同步对端同步中,
"Failed"表示该同步对端同步失败,
"Itself"表示该同步对端就是自己
响应举例：
{
"name":"peer1",
"ip":"1.1.1.1",
"port":22,
"user":"user1",
"status":"None",
"save":0
}
编辑指定 VRRP 配置同步对端
Action: vrrp.cfgsync.peer.edit
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-63 配置同步对端名称 是
user 字符串 长度 1-31 配置同步对端用户名 是
password 字符串 长度 1-63 配置同步对端密码 是
save 整数 0,1 1 表示同步时自动保存配置，0 表示不保存 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.cfgsync.peer.edit
请求 body：
{
"name":"peer1",
"user":"user2",
"password":"user2_password",
"save":1
}

删除指定 VRRP 配置同步对端
Action: vrrp.cfgsync.peer.del
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-63 配置同步对端名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.cfgsync.peer.del
请求 body：
{"name":"peer1"}
获取 VRRP 配置同步模块
Action: vrrp.sync.module.get
请求参数:
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.sync.module.get
请求 body：
响应参数:
名称 类型 范围 含义
module 字符串 “route-static”,
“users” vrrp 模式下定制的需要同步的路由模块
“route-static”表示同步静态路由
“users”表示同步用户配置
响应举例：
{
    "modules": "users,route-static"
}
编辑 VRRP 配置同步模块
Action: vrrp.sync.module.set
请求参数:
名称 类型 范围 含义
module 字符串 “route-static”,
“users” vrrp 模式下定制的需要同步的路由模块
“route-static”表示同步静态路由
“users”表示同步用户配置
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.sync.module.set
请求 body：
{
    "modules": "users,route-static"
}
触发配置同步
Action: vrrp.cfgsync.action.sync
请求参数:无
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.cfgsync.action.sync
配置同步 Pull_Push
Action: vrrp.cfgsync.action.pull_push
请求参数:
名称 类型 范围 含义 必选 备注
remote-peer 字符串 长度 1-63 拉取要同步的配置的设备名称 否
dest-peer-list 字符串 长度 1-511 被同步的对端设备名称列表，空格为分隔符 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.cfgsync.action.pull_push
请求 body：
{
"remote-peer": "to103",
"dest-peer-list": "to101 to102 to104 "
}

VRRP 自动同步
获取 VRRP 自动同步配置信息
Action: vrrp.cfgsync.auto.get
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.cfgsync.auto.get
响应参数:
名称 类型 范围 含义
enabled 整数 0,1 1 表示开启了自动同步，0 表示关闭了自动同步
响应举例：
{"enabled":0}

设置 VRRP 自动同步配置
Action: vrrp.cfgsync.auto.set
请求参数:
名称 类型 范围 含义 必选 备注
enabled 整数 0,1 1 表示开启了自动同步，0 表示关闭了自动同步 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.cfgsync.auto.set
Body:
{"enabled":1}
获取 VRRP 同步通知配置信息
Action: vrrp.cfgsync.notify.get
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.cfgsync.notify.get
响应参数:
名称 类型 范围 含义
notify 整数 0,1 1 表示开启了同步通知，0 表示关闭了同步通知
响应举例：
{"notify":0}

设置 VRRP 同步通知配置
Action: vrrp.cfgsync.notify.set
请求参数:
名称 类型 范围 含义 必选 备注
notify 整数 0,1 1 表示开启了同步通知，0 表示关闭了同步通知 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.cfgsync.notify.set
Body:
{"notify":1}
获取 VRRP 同步状态
Action: vrrp.cfgsync.flag.get
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.cfgsync.flag.get
响应参数:
名称 类型 范围 含义
syncflag 整数 0,1 1 表示有需要同步的配置未同步，0 表示没有需要同步的配置
响应举例：
{"syncflag":0}

    开启同步通知功能后,若有需要同步的配置未同步,则获取到的VRRP同步状态为1

VRRP 配置 L3peer 心跳
添加 VRRP L3peer 邻居
Action: vrrp.l3.peer.add
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-63 L3peer 邻居名称 是 唯一
ip IPv4/v6 地址 L3peer 邻居的 ip/ipv6 地址 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.l3.peer.add
请求 body：
{
"name": "peerl3",
"ip": "10.1.1.14",
"status": "Peer"
}
获取 VRRP L3peer 邻居列表
Action: vrrp.l3.peer.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.l3.peer.list
响应参数:
名称 类型 范围 含义
name 字符串 长度 1-63 L3peer 邻居名称
ip IPv4/v6 地址 L3peer 邻居的 ip/ipv6 地址
status 字符串 "Peer",
"Itself" "Peer"表示对端邻居,
"Itself"表示该配置指向自己
响应举例：
[    
{
        "name": "peerl3",
        "ip": "10.1.1.14",
        "status": "Peer"
    },
    {
        "name": "peerl3-1",
        "ip": "10.1.1.11",
        "status": "Itself"
    }
]
获取指定 VRRP L3peer 邻居
Action: vrrp.l3.peer.get
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-63 L3peer 邻居名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.l3.peer.get
请求 body：
{"name":"peer1"}
响应参数:
名称 类型 范围 含义
name 字符串 长度 1-63 L3peer 邻居名称
ip IPv4/v6 地址 L3peer 邻居的 ip/ipv6 地址
status 字符串 "Peer",
"Itself" "Peer"表示对端邻居,
"Itself"表示该配置指向自己
响应举例：
{
    "name": "peerl3",
    "ip": "10.1.1.14",
    "status": "Peer"
}
删除指定 VRRP L3peer 邻居
Action: vrrp.l3.peer.del
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-63 L3peer 邻居名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.l3.peer.del
请求 body：
{
    "name": "peerl3"
}
获取 VRRP L3peer 使能状态
Action: vrrp.l3peer.enable.get
请求参数:无
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.l3peer.enable.get
响应参数:
名称 类型 范围 含义
enable 整数 0，1 0：不使能三层心跳
1：使能三层心跳
响应举例：
{
    "enabled": 0
}

编辑 VRRP L3peer 使能状态
Action: vrrp.l3peer.enable.set
请求参数:
名称 类型 范围 含义
enable 整数 0，1 0：不使能三层心跳
1：使能三层心跳
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.l3peer.enable.set
请求 body：
{
"enabled": 1
}
VRRP 配置 MGMT peer
添加 VRRP mgmt peer 邻居
Action: vrrp.mgmt.peer.add
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-63 VRRP 邻居名称 是 唯一
ip IPv4/v6 地址 VRRP 邻居 ip/ipv6 地址 是
请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.mgmt.peer.add
请求 body：
{
"name": "peer-mgmt",
"ip": "10.1.1.14",
"status": "Peer"
}
获取 VRRP mgmt peer 邻居列表
Action: vrrp.mgmt.peer.list
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.mgmt.peer.list
响应参数:
名称 类型 范围 含义
name 字符串 长度 1-63 VRRP 邻居名称
ip IPv4/v6 地址 VRRP 邻居 ip/ipv6 地址
status 字符串 "Peer",
"Itself" "Peer"表示对端邻居,
"Itself"表示该配置指向自己
响应举例：
[    
{
    "name": "peer-mgmt",
    "ip": "10.1.1.14",
    "status": "Peer"
  },
  {
    "name": "peer-mgmt1",
    "ip": "10.1.1.11",
    "status": "Itself"
  }
]
获取指定 VRRP mgmt peer 邻居
Action: vrrp.mgmt.peer.get
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-63 Mgmt peer 邻居名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.mgmt.peer.get
请求 body：
{
"name": "peer-mgmt"
}
响应参数:
名称 类型 范围 含义
name 字符串 长度 1-63 Mgmt peer 邻居名称
ip IPv4/v6 地址 Mgmt peer 邻居的 ip/ipv6 地址
status 字符串 "Peer",
"Itself" "Peer"表示对端邻居,
"Itself"表示该配置指向自己
响应举例：
{
    "name": "peer-mgmt",
    "ip": "10.1.1.14",
    "status": "Peer"
  }
删除指定 VRRP mgmt peer 邻居
Action: vrrp.mgmt.peer.del
请求参数:
名称 类型 范围 含义 必选 备注
name 字符串 长度 1-63 VRRP 邻居名称 是
请求举例:
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.mgmt.peer.del
请求 body：
{
"name": "peer-mgmt"
}
获取 VRRP mgmt peer 统计信息列表
Action: vrrp.heart_mgmt.statis
请求参数:无
请求举例:
GET http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=vrrp.heart_mgmt.statis

响应参数:
名称 类型 范围 含义
type 整数 0-28 管理口
packets_rcvd 整数 >=0 接收的报文数
packets_send 整数 >=0 发送的报文数

响应举例：
[
{
"type": "mgmt",
"packets_rcvd": 1368615,
"packets_send": 1368615
}
]

系统告警
修改吞吐告警阈值
Action: system.resource_alarm.perf_throughput.set
请求参数:

名称 类型 范围 含义 必选 备注
threshold_alarm_value 数字 1-90 吞吐告警阈值 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.resource_alarm.perf_throughput.set
请求 body：
{
"threshold_alarm_value":89
}
修改吞吐告警最大值
Action: system.resource_alarm.perf_throughput_max.set
请求参数:

名称 类型 范围 含义 必选 备注
max_value 数字 1-2147483647 吞吐告警最大值 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.resource_alarm.perf_throughput_max.set
请求 body：
{
"max_value":100

}
获取吞吐告警阈值
Action: system.resource_alarm.perf_throughput.get
请求参数:

名称 类型 范围 含义 必选 备注
threshold_alarm_value 数字 1-90 吞吐告警阈值 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.resource_alarm.perf_throughput.get
响应 body：
{
"threshold_alarm_value":89
}
获取吞吐告警最大值
Action: system.resource_alarm.perf_throughput_max.get
请求参数:

名称 类型 范围 含义 必选 备注
max_value 数字 1-2147483647 吞吐告警最大值 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.resource_alarm.perf_throughput_max.get
响应 body：
{
"max_value":100

}

修改新建告警阈值
Action: system.resource_alarm.perf_new_conns.set
请求参数:

名称 类型 范围 含义 必选 备注
threshold_alarm_value 数字 1-90 吞吐告警阈值 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.resource_alarm.perf_new_conns.set
请求 body：
{
"threshold_alarm_value":89
}
修改新建告警最大值
Action: system.resource_alarm.perf_new_conns_max.set
请求参数:

名称 类型 范围 含义 必选 备注
max_value 数字 1-2147483647 吞吐告警最大值 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.resource_alarm.perf_new_conns_max.set
请求 body：
{
"max_value":100

}
获取新建告警阈值
Action: system.resource_alarm.perf_new_conns.get
请求参数:

名称 类型 范围 含义 必选 备注
threshold_alarm_value 数字 1-90 吞吐告警阈值 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.resource_alarm.perf_new_conns.get
响应 body：
{
"threshold_alarm_value":89
}
获取新建告警最大值
Action: system.resource_alarm.perf_new_conns_max.get
请求参数:

名称 类型 范围 含义 必选 备注
max_value 数字 1-2147483647 吞吐告警最大值 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.resource_alarm.perf_new_conns_max.get
响应 body：
{
"max_value":100

}
修改并发告警阈值
Action: system.resource_alarm.perf_cur_conns.set
请求参数:

名称 类型 范围 含义 必选 备注
threshold_alarm_value 数字 1-90 吞吐告警阈值 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.resource_alarm.perf_cur_conns.set
请求 body：
{
"threshold_alarm_value":89
}
修改并发告警最大值
Action: system.resource_alarm.perf_cur_conns_max.set
请求参数:

名称 类型 范围 含义 必选 备注
max_value 数字 1-2147483647 吞吐告警最大值 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.resource_alarm.perf_cur_conns_max.set
请求 body：
{
"max_value":100

}
获取并发告警阈值
Action: system.resource_alarm.perf_cur_conns.get
请求参数:

名称 类型 范围 含义 必选 备注
threshold_alarm_value 数字 1-90 吞吐告警阈值 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.resource_alarm.perf_cur_conns.get
响应 body：
{
"threshold_alarm_value":89
}
获取并发告警最大值
Action: system.resource_alarm.perf_cur_conns_max.get
请求参数:

名称 类型 范围 含义 必选 备注
max_value 数字 1-2147483647 吞吐告警最大值 是

请求举例：
POST http://192.168.70.73/adcapi/v2.0/?authkey=dbc121e55cc33c67911a99ce4829db&action=system.resource_alarm.perf_cur_conns.get
响应 body：
{
"max_value":100

}
