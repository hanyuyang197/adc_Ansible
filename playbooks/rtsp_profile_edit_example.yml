---
- name: 编辑RTSP模板示例
  hosts: adc_servers
  gather_facts: no
  vars:
    adc_ip: "{{ inventory_hostname }}"
    login_result: "{{ hostvars['localhost']['login_result'] }}"
  
  tasks:
    - name: 编辑RTSP模板
      adc_slb_profile_rtsp:
        ip: "{{ inventory_hostname }}"
        authkey: "{{ login_result.authkey }}"
        action: "edit_profile"
        name: "test_rtsp_profile"
        uri_switch:
          - uri: "/live"
            pool: "live_pool_updated"
          - uri: "/vod"
            pool: "vod_pool_updated"
          - uri: "/record"
            pool: "record_pool"
      register: result
    
    - name: 显示结果
      debug:
        var: result